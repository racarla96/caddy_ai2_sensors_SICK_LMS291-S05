<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>sicktoolbox-1.0: c++/drivers/ld/sickld-1.0/SickLD.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>c++/drivers/ld/sickld-1.0/SickLD.hh</h1><a href="a00042.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*!</span>
<a name="l00002"></a>00002 <span class="comment"> * \file SickLD.hh</span>
<a name="l00003"></a>00003 <span class="comment"> * \brief Defines the SickLD class for working with the</span>
<a name="l00004"></a>00004 <span class="comment"> *        Sick LD-OEM/LD-LRS long range LIDARs.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Code by Jason C. Derenick and Thomas H. Miller.</span>
<a name="l00007"></a>00007 <span class="comment"> * Contact derenick(at)lehigh(dot)edu</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * The Sick LIDAR Matlab/C++ Toolbox</span>
<a name="l00010"></a>00010 <span class="comment"> * Copyright (c) 2008, Jason C. Derenick and Thomas H. Miller</span>
<a name="l00011"></a>00011 <span class="comment"> * All rights reserved.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * This software is released under a BSD Open-Source License.</span>
<a name="l00014"></a>00014 <span class="comment"> * See http://sicktoolbox.sourceforge.net</span>
<a name="l00015"></a>00015 <span class="comment"> */</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#ifndef SICK_LD_HH</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span><span class="preprocessor">#define SICK_LD_HH</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <span class="comment">/* Macros */</span>
<a name="l00021"></a><a class="code" href="a00042.html#a5dee9cbe487a704c4de28b1a162b030">00021</a> <span class="preprocessor">#define DEFAULT_SICK_IP_ADDRESS                          "192.168.1.10"  </span><span class="comment">///&lt; Default Sick LD INet 4 address</span>
<a name="l00022"></a><a class="code" href="a00042.html#d1cf60c8937b1317ad4880c1c9f9099d">00022</a> <span class="comment"></span>#define DEFAULT_SICK_TCP_PORT                                   (49152)  <span class="comment">///&lt; Default TCP port</span>
<a name="l00023"></a><a class="code" href="a00042.html#81a45952cd80f2418d64aa89c4cd64a5">00023</a> <span class="comment"></span>#define DEFAULT_SICK_MESSAGE_TIMEOUT                (unsigned int)(5e6)  <span class="comment">///&lt; The max time to wait for a message reply (usecs)</span>
<a name="l00024"></a><a class="code" href="a00042.html#96c00c48fd05daa94d2d0dbbccd01565">00024</a> <span class="comment"></span>#define DEFAULT_SICK_CONNECT_TIMEOUT                (unsigned int)(1e6)  <span class="comment">///&lt; The max time to wait before considering a connection attempt as failed (usecs)</span>
<a name="l00025"></a><a class="code" href="a00042.html#11c6f7b64bbeafc508c8b88f05c18137">00025</a> <span class="comment"></span>#define DEFAULT_SICK_NUM_SCAN_PROFILES                              (0)  <span class="comment">///&lt; Setting this value to 0 will tell the Sick LD to stream measurements when measurement data is requested (NOTE: A profile is a single scans worth of range measurements)</span>
<a name="l00026"></a><a class="code" href="a00042.html#600082a496620df0a1814f9918afcb28">00026</a> <span class="comment"></span>#define DEFAULT_SICK_SIGNAL_SET                                     (0)  <span class="comment">///&lt; Default Sick signal configuration</span>
<a name="l00027"></a>00027 <span class="comment"></span>
<a name="l00028"></a>00028 <span class="comment">/**</span>
<a name="l00029"></a>00029 <span class="comment"> * \def SWAP_VALUES(x,y,t)</span>
<a name="l00030"></a>00030 <span class="comment"> * \brief A simple macro for swapping two values.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a><a class="code" href="a00042.html#7a74957df885d97c2a28f72cf1647924">00032</a> <span class="preprocessor">#define SWAP_VALUES(x,y,t) (t=x,x=y,y=t);</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="comment">/* Auto-generated header */</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="a00037.html">SickConfig.hh</a>"</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">/* Definition dependencies */</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;arpa/inet.h&gt;</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#include "<a class="code" href="a00039.html">SickLIDAR.hh</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "<a class="code" href="a00044.html">SickLDBufferMonitor.hh</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "<a class="code" href="a00046.html">SickLDMessage.hh</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include "<a class="code" href="a00038.html">SickException.hh</a>"</span>
<a name="l00047"></a>00047 <span class="comment"></span>
<a name="l00048"></a>00048 <span class="comment">/**</span>
<a name="l00049"></a>00049 <span class="comment"> * \namespace SickToolbox</span>
<a name="l00050"></a>00050 <span class="comment"> * \brief Encapsulates the Sick LIDAR Matlab/C++ toolbox</span>
<a name="l00051"></a>00051 <span class="comment"> */</span>
<a name="l00052"></a>00052 <span class="keyword">namespace </span>SickToolbox {
<a name="l00053"></a>00053 <span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">  /**</span>
<a name="l00055"></a>00055 <span class="comment">   * \class SickLD</span>
<a name="l00056"></a>00056 <span class="comment">   * \brief Provides a simple driver interface for working with the</span>
<a name="l00057"></a>00057 <span class="comment">   *        Sick LD-OEM/Sick LD-LRS long-range models via Ethernet.</span>
<a name="l00058"></a>00058 <span class="comment">   */</span>
<a name="l00059"></a><a class="code" href="a00007.html">00059</a>   <span class="keyword">class </span><a class="code" href="a00007.html">SickLD</a> : <span class="keyword">public</span> <a class="code" href="a00016.html">SickLIDAR</a>&lt; SickLDBufferMonitor, SickLDMessage &gt; {
<a name="l00060"></a>00060 
<a name="l00061"></a>00061   <span class="keyword">public</span>:
<a name="l00062"></a>00062 
<a name="l00063"></a>00063     <span class="comment">/* Some constants for the developer/end-user */</span>
<a name="l00064"></a><a class="code" href="a00007.html#dfd7fa329ab1709e58bbc3f4454c3ebd">00064</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#dfd7fa329ab1709e58bbc3f4454c3ebd">SICK_MAX_NUM_MEASUREMENTS</a> = 2881;                             <span class="comment">///&lt; Maximum number of measurements per sector</span>
<a name="l00065"></a><a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">00065</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a> = 8;                                     <span class="comment">///&lt; Maximum number of scan sectors (NOTE: This value must be even)</span>
<a name="l00066"></a><a class="code" href="a00007.html#8ad81b01e55e97e0060442dc1cfbbc9d">00066</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#8ad81b01e55e97e0060442dc1cfbbc9d">SICK_MAX_NUM_MEASURING_SECTORS</a> = 4;                           <span class="comment">///&lt; Maximum number of active/measuring scan sectors</span>
<a name="l00067"></a><a class="code" href="a00007.html#182550a95d36dcf84cb1f654bd7dceef">00067</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#182550a95d36dcf84cb1f654bd7dceef">SICK_MAX_SCAN_AREA</a> = 360;                                     <span class="comment">///&lt; Maximum area that can be covered in a single scan (deg)</span>
<a name="l00068"></a><a class="code" href="a00007.html#e0d0eff8575be9a7418ac3746be00a54">00068</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#e0d0eff8575be9a7418ac3746be00a54">SICK_MIN_MOTOR_SPEED</a> = 5;                                     <span class="comment">///&lt; Minimum motor speed in Hz</span>
<a name="l00069"></a><a class="code" href="a00007.html#9b3b0a3f11c9f6216755062007553ce1">00069</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#9b3b0a3f11c9f6216755062007553ce1">SICK_MAX_MOTOR_SPEED</a> = 20;                                    <span class="comment">///&lt; Maximum motor speed in Hz</span>
<a name="l00070"></a><a class="code" href="a00007.html#855885525e9c45fefb784a5abc77c332">00070</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#855885525e9c45fefb784a5abc77c332">SICK_MIN_VALID_SENSOR_ID</a> = 1;                                 <span class="comment">///&lt; The lowest value the Sick will accept as a Sensor ID</span>
<a name="l00071"></a><a class="code" href="a00007.html#a1dbfea949580c11526f14e9a2a7016a">00071</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#a1dbfea949580c11526f14e9a2a7016a">SICK_MAX_VALID_SENSOR_ID</a> = 254;                               <span class="comment">///&lt; The largest value the Sick will accept as a Sensor ID    </span>
<a name="l00072"></a><a class="code" href="a00007.html#396cb4ab89da2b2e78590c995def096e">00072</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#396cb4ab89da2b2e78590c995def096e">SICK_MAX_MEAN_PULSE_FREQUENCY</a> = 10800;                        <span class="comment">///&lt; Max mean pulse frequence of the current device configuration (in Hz) (see page 22 of the operator's manual)</span>
<a name="l00073"></a><a class="code" href="a00007.html#fe11f6381a3c6efc60b9cbf7ddf19ea1">00073</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#fe11f6381a3c6efc60b9cbf7ddf19ea1">SICK_MAX_PULSE_FREQUENCY</a> = 14400;                             <span class="comment">///&lt; Max pulse frequency of the device (in Hz) (see page 22 of the operator's manual)</span>
<a name="l00074"></a><a class="code" href="a00007.html#5e6136031e133e01ce18fb78ec01d354">00074</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#5e6136031e133e01ce18fb78ec01d354">SICK_NUM_TICKS_PER_MOTOR_REV</a> = 5760;                          <span class="comment">///&lt; Odometer ticks per revolution of the Sick LD scan head</span>
<a name="l00075"></a><a class="code" href="a00007.html#5dff1f5f9a90ca18adff14a3ddbb6f75">00075</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="a00007.html#5dff1f5f9a90ca18adff14a3ddbb6f75">SICK_MAX_SCAN_ANGULAR_RESOLUTION</a> = 0.125;                       <span class="comment">///&lt; Minimum valid separation between laser pulses in active scan ares (deg)</span>
<a name="l00076"></a><a class="code" href="a00007.html#0559063230da6d1b16b47af29f001db4">00076</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="a00007.html#0559063230da6d1b16b47af29f001db4">SICK_DEGREES_PER_MOTOR_STEP</a> = 0.0625;                           <span class="comment">///&lt; Each odometer tick is equivalent to rotating the scan head this many degrees</span>
<a name="l00077"></a>00077 <span class="comment"></span>    
<a name="l00078"></a>00078     <span class="comment">/* Sick LD sensor modes of operation */</span>
<a name="l00079"></a><a class="code" href="a00007.html#2eb46143a11fb3e708b6e7bc6ea63640">00079</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#2eb46143a11fb3e708b6e7bc6ea63640">SICK_SENSOR_MODE_IDLE</a> = 0x01;                                  <span class="comment">///&lt; The Sick LD is powered but idle</span>
<a name="l00080"></a><a class="code" href="a00007.html#f7f1185d94527aa01e10c0aeb8143e5e">00080</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#f7f1185d94527aa01e10c0aeb8143e5e">SICK_SENSOR_MODE_ROTATE</a> = 0x02;                                <span class="comment">///&lt; The Sick LD prism is rotating, but laser is off</span>
<a name="l00081"></a><a class="code" href="a00007.html#ddf5f944d866c3ff64d268d6fe02969f">00081</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#ddf5f944d866c3ff64d268d6fe02969f">SICK_SENSOR_MODE_MEASURE</a> = 0x03;                               <span class="comment">///&lt; The Sick LD prism is rotating, and the laser is on</span>
<a name="l00082"></a><a class="code" href="a00007.html#020470b3799f6771994f69ab9fc00ab7">00082</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#020470b3799f6771994f69ab9fc00ab7">SICK_SENSOR_MODE_ERROR</a> = 0x04;                                 <span class="comment">///&lt; The Sick LD is in error mode</span>
<a name="l00083"></a><a class="code" href="a00007.html#322e657ef30b75e8f0cb9a301c5bad09">00083</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#322e657ef30b75e8f0cb9a301c5bad09">SICK_SENSOR_MODE_UNKNOWN</a> = 0xFF;                               <span class="comment">///&lt; The Sick LD is in an unknown state</span>
<a name="l00084"></a>00084 <span class="comment"></span>  
<a name="l00085"></a>00085     <span class="comment">/* Sick LD motor modes */</span>
<a name="l00086"></a><a class="code" href="a00007.html#28a3a06f77c1a92bd966aa328a6e7fce">00086</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#28a3a06f77c1a92bd966aa328a6e7fce">SICK_MOTOR_MODE_OK</a> = 0x00;                                     <span class="comment">///&lt; Motor is functioning properly</span>
<a name="l00087"></a><a class="code" href="a00007.html#d6b33c8fbf75afef53ca1ac275c377a4">00087</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#d6b33c8fbf75afef53ca1ac275c377a4">SICK_MOTOR_MODE_SPIN_TOO_HIGH</a> = 0x09;                          <span class="comment">///&lt; Motor spin too low (i.e. rotational velocity too low)</span>
<a name="l00088"></a><a class="code" href="a00007.html#618b54cb985d0592a90fda95aca89a84">00088</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#618b54cb985d0592a90fda95aca89a84">SICK_MOTOR_MODE_SPIN_TOO_LOW</a> = 0x04;                           <span class="comment">///&lt; Motor spin too high (i.e. rotational velocity too fast)</span>
<a name="l00089"></a><a class="code" href="a00007.html#cf0a8260194758416f1cd8cbc218f6d4">00089</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#cf0a8260194758416f1cd8cbc218f6d4">SICK_MOTOR_MODE_ERROR</a> = 0x0B;                                  <span class="comment">///&lt; Motor stops or coder error</span>
<a name="l00090"></a><a class="code" href="a00007.html#ecb1e8e1680128f10e7a8b5e180a4b00">00090</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#ecb1e8e1680128f10e7a8b5e180a4b00">SICK_MOTOR_MODE_UNKNOWN</a> = 0xFF;                                <span class="comment">///&lt; Motor is in an unknown state</span>
<a name="l00091"></a>00091 <span class="comment"></span>  
<a name="l00092"></a>00092     <span class="comment">/* Sick LD service codes */</span>
<a name="l00093"></a><a class="code" href="a00007.html#68fbede55600d85962ec3e6e54c641a8">00093</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#68fbede55600d85962ec3e6e54c641a8">SICK_STAT_SERV_CODE</a> = 0x01;                                    <span class="comment">///&lt; Status service code </span>
<a name="l00094"></a><a class="code" href="a00007.html#853dd478437ae45527a1c6115327b0a0">00094</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#853dd478437ae45527a1c6115327b0a0">SICK_CONF_SERV_CODE</a> = 0x02;                                    <span class="comment">///&lt; Configuration service code</span>
<a name="l00095"></a><a class="code" href="a00007.html#2030608fe83013ea349980d5e0a4045e">00095</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#2030608fe83013ea349980d5e0a4045e">SICK_MEAS_SERV_CODE</a> = 0x03;                                    <span class="comment">///&lt; Measurement service code</span>
<a name="l00096"></a><a class="code" href="a00007.html#3c58a0e43f7c29e9343d2eb2884eeb36">00096</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#3c58a0e43f7c29e9343d2eb2884eeb36">SICK_WORK_SERV_CODE</a> = 0x04;                                    <span class="comment">///&lt; Working service code</span>
<a name="l00097"></a><a class="code" href="a00007.html#4daee71db6397d71d4d3fee2b8d3a7ca">00097</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#4daee71db6397d71d4d3fee2b8d3a7ca">SICK_ROUT_SERV_CODE</a> = 0x06;                                    <span class="comment">///&lt; Routing service code</span>
<a name="l00098"></a><a class="code" href="a00007.html#7b1c4e47d3b02f47f145929b7e300564">00098</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#7b1c4e47d3b02f47f145929b7e300564">SICK_FILE_SERV_CODE</a> = 0x07;                                    <span class="comment">///&lt; File service code </span>
<a name="l00099"></a><a class="code" href="a00007.html#a322e16f3ea825346a9b7406aec71196">00099</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#a322e16f3ea825346a9b7406aec71196">SICK_MONR_SERV_CODE</a> = 0x08;                                    <span class="comment">///&lt; Monitor service code </span>
<a name="l00100"></a>00100 <span class="comment"></span>  
<a name="l00101"></a>00101     <span class="comment">/* Sick LD status services (service code 0x01) */</span>
<a name="l00102"></a><a class="code" href="a00007.html#8bc40e5bf3e41f4f6148aabf32f067b8">00102</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#8bc40e5bf3e41f4f6148aabf32f067b8">SICK_STAT_SERV_GET_ID</a> = 0x01;                                  <span class="comment">///&lt; Request the Sick LD ID</span>
<a name="l00103"></a><a class="code" href="a00007.html#eb0d6814a19468a620278f07b5dc1f89">00103</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#eb0d6814a19468a620278f07b5dc1f89">SICK_STAT_SERV_GET_STATUS</a> = 0x02;                              <span class="comment">///&lt; Request status information</span>
<a name="l00104"></a><a class="code" href="a00007.html#3d2348d4ec09b9ee8683093abd84f172">00104</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#3d2348d4ec09b9ee8683093abd84f172">SICK_STAT_SERV_GET_SIGNAL</a> = 0x04;                              <span class="comment">///&lt; Reads the value of the switch and LED port</span>
<a name="l00105"></a><a class="code" href="a00007.html#4e06b4aac6f169ea53c8bae082298fc3">00105</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#4e06b4aac6f169ea53c8bae082298fc3">SICK_STAT_SERV_SET_SIGNAL</a> = 0x05;                              <span class="comment">///&lt; Sets the switches and LEDs</span>
<a name="l00106"></a><a class="code" href="a00007.html#fb6228c6b4040042dc149976956fc047">00106</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#fb6228c6b4040042dc149976956fc047">SICK_STAT_SERV_LD_REGISTER_APPLICATION</a> = 0x06;                 <span class="comment">///&lt; Registers the ID data for the application firmware</span>
<a name="l00107"></a>00107 <span class="comment"></span>
<a name="l00108"></a>00108     <span class="comment">/* Sick LD status service GET_IDENTIFICATION request codes */</span>
<a name="l00109"></a><a class="code" href="a00007.html#f66ee3b1ab7c96dda4f31f35b15a4f10">00109</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#f66ee3b1ab7c96dda4f31f35b15a4f10">SICK_STAT_SERV_GET_ID_SENSOR_PART_NUM</a> = 0x00;                  <span class="comment">///&lt; Request the sensor's part number</span>
<a name="l00110"></a><a class="code" href="a00007.html#c3876ba9bff08a5d4ae08c57456c4004">00110</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#c3876ba9bff08a5d4ae08c57456c4004">SICK_STAT_SERV_GET_ID_SENSOR_NAME</a> = 0x01;                      <span class="comment">///&lt; Request the sensor's name</span>
<a name="l00111"></a><a class="code" href="a00007.html#8845d844b6ed29317cf055996925ed21">00111</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#8845d844b6ed29317cf055996925ed21">SICK_STAT_SERV_GET_ID_SENSOR_VERSION</a> = 0x02;                   <span class="comment">///&lt; Request the sensor's version</span>
<a name="l00112"></a><a class="code" href="a00007.html#885f92e1207f6e5bb21a00a49b212735">00112</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#885f92e1207f6e5bb21a00a49b212735">SICK_STAT_SERV_GET_ID_SENSOR_SERIAL_NUM</a> = 0x03;                <span class="comment">///&lt; Request the sensor's serial number</span>
<a name="l00113"></a><a class="code" href="a00007.html#7e08cc436afa95c24cb567015050c818">00113</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#7e08cc436afa95c24cb567015050c818">SICK_STAT_SERV_GET_ID_SENSOR_EDM_SERIAL_NUM</a> = 0x04;            <span class="comment">///&lt; Request the edm??? serial number</span>
<a name="l00114"></a><a class="code" href="a00007.html#26b29b708a30468651c6eb339f9880c5">00114</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#26b29b708a30468651c6eb339f9880c5">SICK_STAT_SERV_GET_ID_FIRMWARE_PART_NUM</a> = 0x10;                <span class="comment">///&lt; Requess the firmware's part number</span>
<a name="l00115"></a><a class="code" href="a00007.html#02436b4e442361916e2d8b509039312c">00115</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#02436b4e442361916e2d8b509039312c">SICK_STAT_SERV_GET_ID_FIRMWARE_NAME</a> = 0x11;                    <span class="comment">///&lt; Request the firmware's name</span>
<a name="l00116"></a><a class="code" href="a00007.html#7f1ee3e9266413dffa664ee80317487a">00116</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#7f1ee3e9266413dffa664ee80317487a">SICK_STAT_SERV_GET_ID_FIRMWARE_VERSION</a> = 0x12;                 <span class="comment">///&lt; Request the firmware's version</span>
<a name="l00117"></a><a class="code" href="a00007.html#abe990c7b31584177fcf15c90ea3db6b">00117</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#abe990c7b31584177fcf15c90ea3db6b">SICK_STAT_SERV_GET_ID_APP_PART_NUM</a> = 0x20;                     <span class="comment">///&lt; Request the application part number</span>
<a name="l00118"></a><a class="code" href="a00007.html#cfc0f1ccaeafc24eab13409f7a5dfcc7">00118</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#cfc0f1ccaeafc24eab13409f7a5dfcc7">SICK_STAT_SERV_GET_ID_APP_NAME</a> = 0x21;                         <span class="comment">///&lt; Request the application name</span>
<a name="l00119"></a><a class="code" href="a00007.html#0f1b59d986a904f6672099a0d92b055c">00119</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#0f1b59d986a904f6672099a0d92b055c">SICK_STAT_SERV_GET_ID_APP_VERSION</a> = 0x22;                      <span class="comment">///&lt; Request the application version</span>
<a name="l00120"></a>00120 <span class="comment"></span>  
<a name="l00121"></a>00121     <span class="comment">/* Sick LD configuration services (service code 0x02) */</span>
<a name="l00122"></a><a class="code" href="a00007.html#927d704c37fc39bf6a80de7c1d38416a">00122</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#927d704c37fc39bf6a80de7c1d38416a">SICK_CONF_SERV_SET_CONFIGURATION</a> = 0x01;                       <span class="comment">///&lt; Set the Sick LD configuration</span>
<a name="l00123"></a><a class="code" href="a00007.html#cb6b1f0d6ca188f3f372889fb3348fa9">00123</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#cb6b1f0d6ca188f3f372889fb3348fa9">SICK_CONF_SERV_GET_CONFIGURATION</a> = 0x02;                       <span class="comment">///&lt; Read the Sick LD configuration information</span>
<a name="l00124"></a><a class="code" href="a00007.html#be31dfd5128571871b0dca79ea5648c7">00124</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#be31dfd5128571871b0dca79ea5648c7">SICK_CONF_SERV_SET_TIME_ABSOLUTE</a> = 0x03;                       <span class="comment">///&lt; Set the internal clock to a timestamp value</span>
<a name="l00125"></a><a class="code" href="a00007.html#4bc6be366a08206da6c1a162b5216376">00125</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#4bc6be366a08206da6c1a162b5216376">SICK_CONF_SERV_SET_TIME_RELATIVE</a> = 0x04;                       <span class="comment">///&lt; Correct the internal clock by some value</span>
<a name="l00126"></a><a class="code" href="a00007.html#5e5c3bfe6a2bb76d35a78a4bccea275e">00126</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#5e5c3bfe6a2bb76d35a78a4bccea275e">SICK_CONF_SERV_GET_SYNC_CLOCK</a> = 0x05;                          <span class="comment">///&lt; Read the internal time of the LD-OEM/LD-LRS</span>
<a name="l00127"></a><a class="code" href="a00007.html#b38340e52db633cfd9e5c83b21416335">00127</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#b38340e52db633cfd9e5c83b21416335">SICK_CONF_SERV_SET_FILTER</a> = 0x09;                              <span class="comment">///&lt; Set the filter configuration</span>
<a name="l00128"></a><a class="code" href="a00007.html#a646881f8339faba223bb7b6431593cc">00128</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#a646881f8339faba223bb7b6431593cc">SICK_CONF_SERV_SET_FUNCTION</a> = 0x0A;                            <span class="comment">///&lt; Assigns a measurement function to an angle range</span>
<a name="l00129"></a><a class="code" href="a00007.html#29c2ac50849abcc78f2b330e735679a8">00129</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#29c2ac50849abcc78f2b330e735679a8">SICK_CONF_SERV_GET_FUNCTION</a> = 0x0B;                            <span class="comment">///&lt; Returns the configuration of the given sector</span>
<a name="l00130"></a>00130 <span class="comment"></span>
<a name="l00131"></a>00131     <span class="comment">/* Sick LD configuration filter codes */</span>
<a name="l00132"></a><a class="code" href="a00007.html#80f2e3e65891ccbf7cacf81b0cca9ab5">00132</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#80f2e3e65891ccbf7cacf81b0cca9ab5">SICK_CONF_SERV_SET_FILTER_NEARFIELD</a> = 0x01;                    <span class="comment">///&lt; Code for identifying filter type: nearfield suppression</span>
<a name="l00133"></a>00133 <span class="comment"></span>  
<a name="l00134"></a>00134     <span class="comment">/* Sick LD nearfield suppression configuration codes */</span>
<a name="l00135"></a><a class="code" href="a00007.html#1a979d4ea91d4eedb0d155c9161ef667">00135</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#1a979d4ea91d4eedb0d155c9161ef667">SICK_CONF_SERV_SET_FILTER_NEARFIELD_OFF</a> = 0x00;                <span class="comment">///&lt; Used to set nearfield suppression off</span>
<a name="l00136"></a><a class="code" href="a00007.html#c20ac8c1d431f0d35d7b0a485ec028cb">00136</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#c20ac8c1d431f0d35d7b0a485ec028cb">SICK_CONF_SERV_SET_FILTER_NEARFIELD_ON</a> = 0x01;                 <span class="comment">///&lt; Used to set nearfield suppression on</span>
<a name="l00137"></a>00137 <span class="comment"></span>  
<a name="l00138"></a>00138     <span class="comment">/* Sick LD measurement services (service code 0x03) */</span>
<a name="l00139"></a><a class="code" href="a00007.html#c2b9a716f9926072ae3e60edd2af8def">00139</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#c2b9a716f9926072ae3e60edd2af8def">SICK_MEAS_SERV_GET_PROFILE</a> = 0x01;                             <span class="comment">///&lt; Requests n profiles of a defined format</span>
<a name="l00140"></a><a class="code" href="a00007.html#d2b018931a6dda44d4886b400e8d75d5">00140</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#d2b018931a6dda44d4886b400e8d75d5">SICK_MEAS_SERV_CANCEL_PROFILE</a> = 0x02;                          <span class="comment">///&lt; Stops profile output</span>
<a name="l00141"></a>00141 <span class="comment"></span>
<a name="l00142"></a>00142     <span class="comment">/* Sick LD working services (service code 0x04) */</span>
<a name="l00143"></a><a class="code" href="a00007.html#37ffe520c3a8d7ba4cfb06367e1325c0">00143</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#37ffe520c3a8d7ba4cfb06367e1325c0">SICK_WORK_SERV_RESET</a> = 0x01;                                   <span class="comment">///&lt; Sick LD enters a reset sequence</span>
<a name="l00144"></a><a class="code" href="a00007.html#d45f29af16ec9278d2e6a5bbb90cd3c3">00144</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#d45f29af16ec9278d2e6a5bbb90cd3c3">SICK_WORK_SERV_TRANS_IDLE</a> = 0x02;                              <span class="comment">///&lt; Sick LD enters IDLE mode (motor stops and laser is turned off)</span>
<a name="l00145"></a><a class="code" href="a00007.html#ab2974805c6e8b3bca683ca5ed8dcc21">00145</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#ab2974805c6e8b3bca683ca5ed8dcc21">SICK_WORK_SERV_TRANS_ROTATE</a> = 0x03;                            <span class="comment">///&lt; Sick LD enters ROTATE mode (motor starts and rotates with a specified speed in Hz, laser is off)</span>
<a name="l00146"></a><a class="code" href="a00007.html#c98f8ac4377b7221ac940162fd488e86">00146</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#c98f8ac4377b7221ac940162fd488e86">SICK_WORK_SERV_TRANS_MEASURE</a> = 0x04;                           <span class="comment">///&lt; Sick LD enters MEASURE mode (laser starts with next revolution) </span>
<a name="l00147"></a>00147 <span class="comment"></span>
<a name="l00148"></a>00148     <span class="comment">/* Sick LD working service DO_RESET request codes */</span>
<a name="l00149"></a><a class="code" href="a00007.html#87f2ac4a2f8e9ffbb0e33cfdeffefe3e">00149</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#87f2ac4a2f8e9ffbb0e33cfdeffefe3e">SICK_WORK_SERV_RESET_INIT_CPU</a> = 0x00;                          <span class="comment">///&lt; Sick LD does a complete reset (Reinitializes the CPU)</span>
<a name="l00150"></a><a class="code" href="a00007.html#561da975aed5b1f522b37081c2c16b9e">00150</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#561da975aed5b1f522b37081c2c16b9e">SICK_WORK_SERV_RESET_KEEP_CPU</a> = 0x01;                          <span class="comment">///&lt; Sick LD does a partial reset (CPU is not reinitialized)</span>
<a name="l00151"></a><a class="code" href="a00007.html#683a57b4f757718a7be38279a2ea3c99">00151</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#683a57b4f757718a7be38279a2ea3c99">SICK_WORK_SERV_RESET_HALT_APP</a> = 0x02;                          <span class="comment">///&lt; Sick LD does a minimal reset (Application is halted and device enters IDLE state)</span>
<a name="l00152"></a>00152 <span class="comment"></span>
<a name="l00153"></a>00153     <span class="comment">/* Sick LD working service TRANS_MEASURE return codes */</span>
<a name="l00154"></a><a class="code" href="a00007.html#1554398112fc3aee025d636238198d6d">00154</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#1554398112fc3aee025d636238198d6d">SICK_WORK_SERV_TRANS_MEASURE_RET_OK</a> = 0x00;                    <span class="comment">///&lt; Sick LD is ready to stream/obtain scan profiles</span>
<a name="l00155"></a><a class="code" href="a00007.html#5edbe7f1657fd8b1901c6699e1374e09">00155</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#5edbe7f1657fd8b1901c6699e1374e09">SICK_WORK_SERV_TRANS_MEASURE_RET_ERR_MAX_PULSE</a> = 0x01;         <span class="comment">///&lt; Sick LD reports config yields a max laser pulse frequency that is too high</span>
<a name="l00156"></a><a class="code" href="a00007.html#a526b973b1251cb65b9877d146263a1b">00156</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#a526b973b1251cb65b9877d146263a1b">SICK_WORK_SERV_TRANS_MEASURE_RET_ERR_MEAN_PULSE</a> = 0x02;        <span class="comment">///&lt; Sick LD reports config yields a max mean pulse frequency that is too high</span>
<a name="l00157"></a><a class="code" href="a00007.html#8fea68b01aa77a0aeecfd0ff478dde02">00157</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#8fea68b01aa77a0aeecfd0ff478dde02">SICK_WORK_SERV_TRANS_MEASURE_RET_ERR_SECT_BORDER</a> = 0x03;       <span class="comment">///&lt; Sick LD reports sector borders are not configured correctly</span>
<a name="l00158"></a><a class="code" href="a00007.html#aa2b30b97de3e9eed11b874677a54d37">00158</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#aa2b30b97de3e9eed11b874677a54d37">SICK_WORK_SERV_TRANS_MEASURE_RET_ERR_SECT_BORDER_MULT</a> = 0x04;  <span class="comment">///&lt; Sick LD reports sector borders are not a multiple of the step angle</span>
<a name="l00159"></a>00159 <span class="comment"></span>  
<a name="l00160"></a>00160     <span class="comment">/* Sick LD interface routing services (service code 0x06) */</span>
<a name="l00161"></a><a class="code" href="a00007.html#fc31d956f575abe709c5bbd3fb997c75">00161</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#fc31d956f575abe709c5bbd3fb997c75">SICK_ROUT_SERV_COM_ATTACH</a> = 0x01;                              <span class="comment">///&lt; Attach a master (host) communications interface</span>
<a name="l00162"></a><a class="code" href="a00007.html#383775cad81bf3d00a7a081b19db2095">00162</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#383775cad81bf3d00a7a081b19db2095">SICK_ROUT_SERV_COM_DETACH</a> = 0x02;                              <span class="comment">///&lt; Detach a master (host) communications interface</span>
<a name="l00163"></a><a class="code" href="a00007.html#2f402192038f1e6b888f88ba8dee24f7">00163</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#2f402192038f1e6b888f88ba8dee24f7">SICK_ROUT_SERV_COM_INITIALIZE</a> = 0x03;                          <span class="comment">///&lt; Initialize the interface (Note: using this may not be necessary for some interfaces, e.g. Ethernet) </span>
<a name="l00164"></a><a class="code" href="a00007.html#50e3431d680dc142406b252156c69f8a">00164</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#50e3431d680dc142406b252156c69f8a">SICK_ROUT_SERV_COM_OUTPUT</a> = 0x04;                              <span class="comment">///&lt; Output data to the interface</span>
<a name="l00165"></a><a class="code" href="a00007.html#508c776ddd3a2d35938840a73db65b8e">00165</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#508c776ddd3a2d35938840a73db65b8e">SICK_ROUT_SERV_COM_DATA</a> = 0x05;                                <span class="comment">///&lt; Forward data received on specified interface to master interface</span>
<a name="l00166"></a>00166 <span class="comment"></span>
<a name="l00167"></a>00167     <span class="comment">/* Sick LD file services (service code 0x07) */</span>
<a name="l00168"></a><a class="code" href="a00007.html#b6c2e10a15803512e34dc513de48a5ad">00168</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#b6c2e10a15803512e34dc513de48a5ad">SICK_FILE_SERV_DIR</a> = 0x01;                                     <span class="comment">///&lt; List the stored files in flash memory</span>
<a name="l00169"></a><a class="code" href="a00007.html#29ae91540cc5cef6fd5be5e1b761de23">00169</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#29ae91540cc5cef6fd5be5e1b761de23">SICK_FILE_SERV_SAVE</a> = 0x02;                                    <span class="comment">///&lt; Saves the data into flash memory</span>
<a name="l00170"></a><a class="code" href="a00007.html#fdaadb5e902a5f40366d98ef21a2347d">00170</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#fdaadb5e902a5f40366d98ef21a2347d">SICK_FILE_SERV_LOAD</a> = 0x03;                                    <span class="comment">///&lt; Recalls a file from the flash</span>
<a name="l00171"></a><a class="code" href="a00007.html#548e062f5f5c612b3651101ca624d633">00171</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#548e062f5f5c612b3651101ca624d633">SICK_FILE_SERV_DELETE</a> = 0x04;                                  <span class="comment">///&lt; Deletes a file from the flash</span>
<a name="l00172"></a>00172 <span class="comment"></span>
<a name="l00173"></a>00173     <span class="comment">/* Sick LD monitor services (service code 0x08) */</span>
<a name="l00174"></a><a class="code" href="a00007.html#747c24827e9c733c603e28f9a007ace0">00174</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#747c24827e9c733c603e28f9a007ace0">SICK_MONR_SERV_MONITOR_RUN</a> = 0x01;                             <span class="comment">///&lt; Enable/disable monitor services</span>
<a name="l00175"></a><a class="code" href="a00007.html#e471106658526c83e06ab2eb986d8c1b">00175</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#e471106658526c83e06ab2eb986d8c1b">SICK_MONR_SERV_MONITOR_PROFILE_LOG</a> = 0x02;                     <span class="comment">///&lt; Enable/disable profile logging</span>
<a name="l00176"></a>00176 <span class="comment"></span>
<a name="l00177"></a>00177     <span class="comment">/* Sick LD configuration keys */</span>
<a name="l00178"></a><a class="code" href="a00007.html#645509b063d591fa332097f7392e6d38">00178</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#645509b063d591fa332097f7392e6d38">SICK_CONF_KEY_RS232_RS422</a> = 0x01;                              <span class="comment">///&lt; Key for configuring RS-232/RS-422</span>
<a name="l00179"></a><a class="code" href="a00007.html#4d5ec99058482a1738c1b93323db89e7">00179</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#4d5ec99058482a1738c1b93323db89e7">SICK_CONF_KEY_CAN</a> = 0x02;                                      <span class="comment">///&lt; Key for configuring CAN </span>
<a name="l00180"></a><a class="code" href="a00007.html#5470d06abedd47ce5a7b101c6958b3fe">00180</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#5470d06abedd47ce5a7b101c6958b3fe">SICK_CONF_KEY_ETHERNET</a> = 0x05;                                 <span class="comment">///&lt; Key for configuring Ethernet</span>
<a name="l00181"></a><a class="code" href="a00007.html#95a3c73fef87b141ff56f7a45a6b62a4">00181</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#95a3c73fef87b141ff56f7a45a6b62a4">SICK_CONF_KEY_GLOBAL</a> = 0x10;                                   <span class="comment">///&lt; Key for global configuration</span>
<a name="l00182"></a>00182 <span class="comment"></span>
<a name="l00183"></a>00183     <span class="comment">/* Sick LD sector configuration codes */</span>
<a name="l00184"></a><a class="code" href="a00007.html#0c12afa70baa028d43556ce6fe111920">00184</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#0c12afa70baa028d43556ce6fe111920">SICK_CONF_SECTOR_NOT_INITIALIZED</a> = 0x00;                       <span class="comment">///&lt; Sector is uninitialized</span>
<a name="l00185"></a><a class="code" href="a00007.html#308789d858ba757a61a9cbc07471757b">00185</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#308789d858ba757a61a9cbc07471757b">SICK_CONF_SECTOR_NO_MEASUREMENT</a> = 0x01;                        <span class="comment">///&lt; Sector has no measurements</span>
<a name="l00186"></a><a class="code" href="a00007.html#250dc184ef1e90bb74fd9f829df1477a">00186</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#250dc184ef1e90bb74fd9f829df1477a">SICK_CONF_SECTOR_RESERVED</a> = 0x02;                              <span class="comment">///&lt; Sector is reserved by Sick LD </span>
<a name="l00187"></a><a class="code" href="a00007.html#80ff46f671a1bb0067ead0d92dee8e56">00187</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#80ff46f671a1bb0067ead0d92dee8e56">SICK_CONF_SECTOR_NORMAL_MEASUREMENT</a> = 0x03;                    <span class="comment">///&lt; Sector is returning measurements</span>
<a name="l00188"></a><a class="code" href="a00007.html#51e0c711a6e0b37bd25b77daf74400a5">00188</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#51e0c711a6e0b37bd25b77daf74400a5">SICK_CONF_SECTOR_REFERENCE_MEASUREMENT</a> = 0x04;                 <span class="comment">///&lt; Sector can be used as reference measurement</span>
<a name="l00189"></a>00189 <span class="comment"></span>
<a name="l00190"></a>00190     <span class="comment">/* Sick LD profile formats */</span>
<a name="l00191"></a><a class="code" href="a00007.html#00d4a130dc095b9a088d567bf7a673b4">00191</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#00d4a130dc095b9a088d567bf7a673b4">SICK_SCAN_PROFILE_RANGE</a> = 0x39FF;                             <span class="comment">///&lt; Request sector scan data w/o any echo data</span>
<a name="l00192"></a>00192 <span class="comment"></span>    <span class="comment">/*</span>
<a name="l00193"></a>00193 <span class="comment">     * SICK_SCAN_PROFILE_RANGE format (0x39FF) interpretation: </span>
<a name="l00194"></a>00194 <span class="comment">     * (See page 32 of telegram listing for fieldname definitions)</span>
<a name="l00195"></a>00195 <span class="comment">     *</span>
<a name="l00196"></a>00196 <span class="comment">     * Field Name   | Send</span>
<a name="l00197"></a>00197 <span class="comment">     * --------------------</span>
<a name="l00198"></a>00198 <span class="comment">     * PROFILESENT  | YES</span>
<a name="l00199"></a>00199 <span class="comment">     * PROFILECOUNT | YES</span>
<a name="l00200"></a>00200 <span class="comment">     * LAYERNUM     | YES</span>
<a name="l00201"></a>00201 <span class="comment">     * SECTORNUM    | YES</span>
<a name="l00202"></a>00202 <span class="comment">     * DIRSTEP      | YES</span>
<a name="l00203"></a>00203 <span class="comment">     * POINTNUM     | YES</span>
<a name="l00204"></a>00204 <span class="comment">     * TSTART       | YES</span>
<a name="l00205"></a>00205 <span class="comment">     * STARTDIR     | YES</span>
<a name="l00206"></a>00206 <span class="comment">     * DISTANCE-n   | YES</span>
<a name="l00207"></a>00207 <span class="comment">     * DIRECTION-n  | NO</span>
<a name="l00208"></a>00208 <span class="comment">     * ECHO-n       | NO</span>
<a name="l00209"></a>00209 <span class="comment">     * TEND         | YES</span>
<a name="l00210"></a>00210 <span class="comment">     * ENDDIR       | YES</span>
<a name="l00211"></a>00211 <span class="comment">     * SENSTAT      | YES</span>
<a name="l00212"></a>00212 <span class="comment">     */</span>
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">/* Sick LD profile formats */</span>
<a name="l00215"></a><a class="code" href="a00007.html#3100a8c45c5f6be48de599ddb7f5c0e7">00215</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="a00007.html#3100a8c45c5f6be48de599ddb7f5c0e7">SICK_SCAN_PROFILE_RANGE_AND_ECHO</a> = 0x3DFF;                    <span class="comment">///&lt; Request sector scan data w/ echo data</span>
<a name="l00216"></a>00216 <span class="comment"></span>    <span class="comment">/*</span>
<a name="l00217"></a>00217 <span class="comment">     * SICK_SCAN_PROFILE_RANGE format (0x3DFF) interpretation: </span>
<a name="l00218"></a>00218 <span class="comment">     * (See page 32 of telegram listing for fieldname definitions)</span>
<a name="l00219"></a>00219 <span class="comment">     *</span>
<a name="l00220"></a>00220 <span class="comment">     * Field Name   | Send</span>
<a name="l00221"></a>00221 <span class="comment">     * --------------------</span>
<a name="l00222"></a>00222 <span class="comment">     * PROFILESENT  | YES</span>
<a name="l00223"></a>00223 <span class="comment">     * PROFILECOUNT | YES</span>
<a name="l00224"></a>00224 <span class="comment">     * LAYERNUM     | YES</span>
<a name="l00225"></a>00225 <span class="comment">     * SECTORNUM    | YES</span>
<a name="l00226"></a>00226 <span class="comment">     * DIRSTEP      | YES</span>
<a name="l00227"></a>00227 <span class="comment">     * POINTNUM     | YES</span>
<a name="l00228"></a>00228 <span class="comment">     * TSTART       | YES</span>
<a name="l00229"></a>00229 <span class="comment">     * STARTDIR     | YES</span>
<a name="l00230"></a>00230 <span class="comment">     * DISTANCE-n   | YES</span>
<a name="l00231"></a>00231 <span class="comment">     * DIRECTION-n  | NO</span>
<a name="l00232"></a>00232 <span class="comment">     * ECHO-n       | YES</span>
<a name="l00233"></a>00233 <span class="comment">     * TEND         | YES</span>
<a name="l00234"></a>00234 <span class="comment">     * ENDDIR       | YES</span>
<a name="l00235"></a>00235 <span class="comment">     * SENSTAT      | YES</span>
<a name="l00236"></a>00236 <span class="comment">     */</span>
<a name="l00237"></a>00237   
<a name="l00238"></a>00238     <span class="comment">/* Masks for working with the Sick LD signals</span>
<a name="l00239"></a>00239 <span class="comment">     *</span>
<a name="l00240"></a>00240 <span class="comment">     * NOTE: Although the Sick LD manual defines the flag</span>
<a name="l00241"></a>00241 <span class="comment">     *       values for red and green LEDs the operation</span>
<a name="l00242"></a>00242 <span class="comment">     *       of these LEDs are reserved. So they can't</span>
<a name="l00243"></a>00243 <span class="comment">     *       be set by the device driver.</span>
<a name="l00244"></a>00244 <span class="comment">     */</span>
<a name="l00245"></a><a class="code" href="a00007.html#01424042ec010c8c826f01f14a651a78">00245</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#01424042ec010c8c826f01f14a651a78">SICK_SIGNAL_LED_YELLOW_A</a> = 0x01;                               <span class="comment">///&lt; Mask for first yellow LED</span>
<a name="l00246"></a><a class="code" href="a00007.html#f964add16f8d395f87655985cbc06911">00246</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#f964add16f8d395f87655985cbc06911">SICK_SIGNAL_LED_YELLOW_B</a> = 0x02;                               <span class="comment">///&lt; Mask for second yellow LED</span>
<a name="l00247"></a><a class="code" href="a00007.html#02c66504615114a3faf43a58a69d869c">00247</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#02c66504615114a3faf43a58a69d869c">SICK_SIGNAL_LED_GREEN</a> = 0x04;                                  <span class="comment">///&lt; Mask for green LED</span>
<a name="l00248"></a><a class="code" href="a00007.html#537a3db37a08a71e175c5010b57f98db">00248</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#537a3db37a08a71e175c5010b57f98db">SICK_SIGNAL_LED_RED</a> = 0x08;                                    <span class="comment">///&lt; Mask for red LED</span>
<a name="l00249"></a><a class="code" href="a00007.html#268b168f8f0131f989ae653264365e2e">00249</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#268b168f8f0131f989ae653264365e2e">SICK_SIGNAL_SWITCH_0</a> = 0x10;                                   <span class="comment">///&lt; Mask for signal switch 0</span>
<a name="l00250"></a><a class="code" href="a00007.html#70a944e66b3c01c872276a7c797f0d43">00250</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#70a944e66b3c01c872276a7c797f0d43">SICK_SIGNAL_SWITCH_1</a> = 0x20;                                   <span class="comment">///&lt; Mask for signal switch 1</span>
<a name="l00251"></a><a class="code" href="a00007.html#d75a17e99fe6587a4b536715218103aa">00251</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#d75a17e99fe6587a4b536715218103aa">SICK_SIGNAL_SWITCH_2</a> = 0x40;                                   <span class="comment">///&lt; Mask for signal switch 2</span>
<a name="l00252"></a><a class="code" href="a00007.html#05c16daefac3b120ca60e4729c8c164f">00252</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="a00007.html#05c16daefac3b120ca60e4729c8c164f">SICK_SIGNAL_SWITCH_3</a> = 0x80;                                   <span class="comment">///&lt; Mask for signal switch 3</span>
<a name="l00253"></a>00253 <span class="comment"></span><span class="comment"></span>
<a name="l00254"></a>00254 <span class="comment">    /**</span>
<a name="l00255"></a>00255 <span class="comment">     * \struct sick_ld_config_global_tag</span>
<a name="l00256"></a>00256 <span class="comment">     * \brief A structure to aggregate the data used to configure the</span>
<a name="l00257"></a>00257 <span class="comment">     *        Sick LD global parameter values.</span>
<a name="l00258"></a>00258 <span class="comment">     */</span><span class="comment"></span>
<a name="l00259"></a>00259 <span class="comment">    /**</span>
<a name="l00260"></a>00260 <span class="comment">     * \typedef sick_ld_config_global_t</span>
<a name="l00261"></a>00261 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00262"></a>00262 <span class="comment">     */</span>
<a name="l00263"></a><a class="code" href="a00009.html">00263</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00009.html">sick_ld_config_global_tag</a> {
<a name="l00264"></a><a class="code" href="a00009.html#ec30533f99df563376e5579afadc4f22">00264</a>       uint16_t <a class="code" href="a00009.html#ec30533f99df563376e5579afadc4f22">sick_sensor_id</a>;                                                            <span class="comment">///&lt; The single word sensor ID for the Sick unit</span>
<a name="l00265"></a><a class="code" href="a00009.html#6647dec259be90f06dae5ea21eef2fd7">00265</a> <span class="comment"></span>      uint16_t <a class="code" href="a00009.html#6647dec259be90f06dae5ea21eef2fd7">sick_motor_speed</a>;                                                          <span class="comment">///&lt; Nominal motor speed value: 0x0005 to 0x0014 (5 to 20)</span>
<a name="l00266"></a><a class="code" href="a00009.html#a4c367742b8fc9463dbdc53c3e184a55">00266</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00009.html#a4c367742b8fc9463dbdc53c3e184a55">sick_angle_step</a>;                                                             <span class="comment">///&lt; Difference between two laser pulse positions in 1/16th deg. (NOTE: this value must be a divisor of 5760 and be greater than 1)  </span>
<a name="l00267"></a>00267 <span class="comment"></span>    } <a class="code" href="a00009.html">sick_ld_config_global_t</a>;
<a name="l00268"></a>00268     <span class="comment"></span>
<a name="l00269"></a>00269 <span class="comment">    /**</span>
<a name="l00270"></a>00270 <span class="comment">     * \struct sick_ld_config_ethernet_tag</span>
<a name="l00271"></a>00271 <span class="comment">     * \brief A structure to aggregate the data used to configure</span>
<a name="l00272"></a>00272 <span class="comment">     *        the Sick LD unit for Ethernet.</span>
<a name="l00273"></a>00273 <span class="comment">     *</span>
<a name="l00274"></a>00274 <span class="comment">     * \todo Eventually add similar config structures for the other protocols.</span>
<a name="l00275"></a>00275 <span class="comment">     */</span><span class="comment"></span>
<a name="l00276"></a>00276 <span class="comment">    /**</span>
<a name="l00277"></a>00277 <span class="comment">     * \typedef sick_ld_config_ethernet_t</span>
<a name="l00278"></a>00278 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00279"></a>00279 <span class="comment">     */</span>
<a name="l00280"></a><a class="code" href="a00008.html">00280</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00008.html">sick_ld_config_ethernet_tag</a> {
<a name="l00281"></a><a class="code" href="a00008.html#93fe45b41f72763ac68f7ea704ccb668">00281</a>       uint16_t <a class="code" href="a00008.html#93fe45b41f72763ac68f7ea704ccb668">sick_ip_address</a>[4];                                                        <span class="comment">///&lt; IP address in numerical form w/ leftmost part at sick_ip_address[0]</span>
<a name="l00282"></a><a class="code" href="a00008.html#da436785c7a023fa09162e2ef21a28fe">00282</a> <span class="comment"></span>      uint16_t <a class="code" href="a00008.html#da436785c7a023fa09162e2ef21a28fe">sick_subnet_mask</a>[4];                                                       <span class="comment">///&lt; Subnet mask for the network to which the Sick LD is assigned</span>
<a name="l00283"></a><a class="code" href="a00008.html#a564c554db762f8ba7f85fc4d16b29c6">00283</a> <span class="comment"></span>      uint16_t <a class="code" href="a00008.html#a564c554db762f8ba7f85fc4d16b29c6">sick_gateway_ip_address</a>[4];                                                <span class="comment">///&lt; The address of the local gateway</span>
<a name="l00284"></a><a class="code" href="a00008.html#ea4658050768f9b4251bf4ed9e0bf5b5">00284</a> <span class="comment"></span>      uint16_t <a class="code" href="a00008.html#ea4658050768f9b4251bf4ed9e0bf5b5">sick_node_id</a>;                                                              <span class="comment">///&lt; Single word address of the Sick LD</span>
<a name="l00285"></a><a class="code" href="a00008.html#5ef661b57f2019e830a68b11a261e491">00285</a> <span class="comment"></span>      uint16_t <a class="code" href="a00008.html#5ef661b57f2019e830a68b11a261e491">sick_transparent_tcp_port</a>;                                                 <span class="comment">///&lt; The TCP/IP transparent port associated with the Sick LD</span>
<a name="l00286"></a>00286 <span class="comment"></span>    } <a class="code" href="a00008.html">sick_ld_config_ethernet_t</a>;
<a name="l00287"></a>00287     <span class="comment"></span>
<a name="l00288"></a>00288 <span class="comment">    /**</span>
<a name="l00289"></a>00289 <span class="comment">     * \struct sick_ld_config_sector_tag</span>
<a name="l00290"></a>00290 <span class="comment">     * \brief A structure to aggregate data used to define the</span>
<a name="l00291"></a>00291 <span class="comment">     *        Sick LD's sector configuration.</span>
<a name="l00292"></a>00292 <span class="comment">     */</span><span class="comment"></span>
<a name="l00293"></a>00293 <span class="comment">    /**</span>
<a name="l00294"></a>00294 <span class="comment">     * \typedef sick_ld_config_sector_t</span>
<a name="l00295"></a>00295 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00296"></a>00296 <span class="comment">     */</span>
<a name="l00297"></a><a class="code" href="a00010.html">00297</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00010.html">sick_ld_config_sector_tag</a> {
<a name="l00298"></a><a class="code" href="a00010.html#c7cff88d9de731d70904372754e5c214">00298</a>       uint8_t <a class="code" href="a00010.html#c7cff88d9de731d70904372754e5c214">sick_num_active_sectors</a>;                                                    <span class="comment">///&lt; Number of active sectors (sectors that are actually being scanned)</span>
<a name="l00299"></a><a class="code" href="a00010.html#79ff2ea29d76d888367fcfd9e1967105">00299</a> <span class="comment"></span>      uint8_t <a class="code" href="a00010.html#79ff2ea29d76d888367fcfd9e1967105">sick_num_initialized_sectors</a>;                                               <span class="comment">///&lt; Number of sectors configured w/ a function other than "not initialized" </span>
<a name="l00300"></a><a class="code" href="a00010.html#e68e25992d86a1938e5e89e4eca26e42">00300</a> <span class="comment"></span>      uint8_t <a class="code" href="a00010.html#e68e25992d86a1938e5e89e4eca26e42">sick_active_sector_ids</a>[<a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a>];                               <span class="comment">///&lt; IDs of all active sectors</span>
<a name="l00301"></a><a class="code" href="a00010.html#061ce143b0a88df0e637dc85676dba1f">00301</a> <span class="comment"></span>      uint8_t <a class="code" href="a00010.html#061ce143b0a88df0e637dc85676dba1f">sick_sector_functions</a>[<a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a>];                                <span class="comment">///&lt; Function values associated w/ each of the Sick LD's sectors</span>
<a name="l00302"></a><a class="code" href="a00010.html#464d8960f713b7e6e4da82c9243410fc">00302</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00010.html#464d8960f713b7e6e4da82c9243410fc">sick_sector_start_angles</a>[<a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a>];                              <span class="comment">///&lt; Start angles for each initialized sector (deg)</span>
<a name="l00303"></a><a class="code" href="a00010.html#3c2b8865236ea1f386912a80c03d4c05">00303</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00010.html#3c2b8865236ea1f386912a80c03d4c05">sick_sector_stop_angles</a>[<a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a>];                               <span class="comment">///&lt; Stop angles for each sector (deg)</span>
<a name="l00304"></a>00304 <span class="comment"></span>    } <a class="code" href="a00010.html">sick_ld_config_sector_t</a>;
<a name="l00305"></a>00305     <span class="comment"></span>
<a name="l00306"></a>00306 <span class="comment">    /**</span>
<a name="l00307"></a>00307 <span class="comment">     * \struct sick_ld_identity_tag</span>
<a name="l00308"></a>00308 <span class="comment">     * \brief A structure to aggregate the fields that collectively</span>
<a name="l00309"></a>00309 <span class="comment">     *        define the identity of a Sick LD unit.</span>
<a name="l00310"></a>00310 <span class="comment">     */</span><span class="comment"></span>
<a name="l00311"></a>00311 <span class="comment">    /**</span>
<a name="l00312"></a>00312 <span class="comment">     * \typedef sick_ld_identity_t</span>
<a name="l00313"></a>00313 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00314"></a>00314 <span class="comment">     */</span>
<a name="l00315"></a><a class="code" href="a00011.html">00315</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00011.html">sick_ld_identity_tag</a> {
<a name="l00316"></a><a class="code" href="a00011.html#a6e402fcbc4a70f8897a478dc070c824">00316</a>       std::string <a class="code" href="a00011.html#a6e402fcbc4a70f8897a478dc070c824">sick_part_number</a>;                                                       <span class="comment">///&lt; The Sick LD's part number</span>
<a name="l00317"></a><a class="code" href="a00011.html#30050d7f4d870177a4e17f61a6ac50ff">00317</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#30050d7f4d870177a4e17f61a6ac50ff">sick_name</a>;                                                              <span class="comment">///&lt; The name assigned to the Sick</span>
<a name="l00318"></a><a class="code" href="a00011.html#dec3c902ae93ef41a9d387fb57a5187d">00318</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#dec3c902ae93ef41a9d387fb57a5187d">sick_version</a>;                                                           <span class="comment">///&lt; The Sick LD's version number</span>
<a name="l00319"></a><a class="code" href="a00011.html#038817b4ee0a8b8314b09e4673602ce6">00319</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#038817b4ee0a8b8314b09e4673602ce6">sick_serial_number</a>;                                                     <span class="comment">///&lt; The Sick LD's serial number</span>
<a name="l00320"></a><a class="code" href="a00011.html#22610bf754c65e6b4f1ce071bb8dfe94">00320</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#22610bf754c65e6b4f1ce071bb8dfe94">sick_edm_serial_number</a>;                                                 <span class="comment">///&lt; The Sick LD's edm??? serial number</span>
<a name="l00321"></a><a class="code" href="a00011.html#0c59251c454b047f52a20f69c50ed1f3">00321</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#0c59251c454b047f52a20f69c50ed1f3">sick_firmware_part_number</a>;                                              <span class="comment">///&lt; The Sick LD's firmware part number </span>
<a name="l00322"></a><a class="code" href="a00011.html#345028cdde34ef05e60d8bc56b447362">00322</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#345028cdde34ef05e60d8bc56b447362">sick_firmware_name</a>;                                                     <span class="comment">///&lt; The Sick LD's firmware name</span>
<a name="l00323"></a><a class="code" href="a00011.html#aad177ae26c29682ff06b02c6066502d">00323</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#aad177ae26c29682ff06b02c6066502d">sick_firmware_version</a>;                                                  <span class="comment">///&lt; The Sick LD's firmware version</span>
<a name="l00324"></a><a class="code" href="a00011.html#4916d13e9f1ef7cd72e28083e988ab9b">00324</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#4916d13e9f1ef7cd72e28083e988ab9b">sick_application_software_part_number</a>;                                  <span class="comment">///&lt; The Sick LD's app. software part number</span>
<a name="l00325"></a><a class="code" href="a00011.html#e4979f7df7103b7bca02a36999184763">00325</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#e4979f7df7103b7bca02a36999184763">sick_application_software_name</a>;                                         <span class="comment">///&lt; The Sick LD's app. software name</span>
<a name="l00326"></a><a class="code" href="a00011.html#503eb6ee0ed364d051565cc7bd361c7f">00326</a> <span class="comment"></span>      std::string <a class="code" href="a00011.html#503eb6ee0ed364d051565cc7bd361c7f">sick_application_software_version</a>;                                      <span class="comment">///&lt; The Sick LD's app. software version</span>
<a name="l00327"></a>00327 <span class="comment"></span>    } <a class="code" href="a00011.html">sick_ld_identity_t</a>;
<a name="l00328"></a>00328     <span class="comment"></span>
<a name="l00329"></a>00329 <span class="comment">    /**</span>
<a name="l00330"></a>00330 <span class="comment">     * \struct sick_ld_sector_data_tag</span>
<a name="l00331"></a>00331 <span class="comment">     * \brief A structure to aggregate the fields that collectively</span>
<a name="l00332"></a>00332 <span class="comment">     *        define a sector in the scan area of the Sick LD unit.</span>
<a name="l00333"></a>00333 <span class="comment">     */</span><span class="comment"></span>
<a name="l00334"></a>00334 <span class="comment">    /**</span>
<a name="l00335"></a>00335 <span class="comment">     * \typedef sick_ld_sector_data_t</span>
<a name="l00336"></a>00336 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00337"></a>00337 <span class="comment">     */</span>
<a name="l00338"></a><a class="code" href="a00013.html">00338</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00013.html">sick_ld_sector_data_tag</a> {
<a name="l00339"></a><a class="code" href="a00013.html#656ce509cf4b1f7a3806fcd5defa8f98">00339</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00013.html#656ce509cf4b1f7a3806fcd5defa8f98">sector_num</a>;                                                            <span class="comment">///&lt; The sector number in the scan area</span>
<a name="l00340"></a><a class="code" href="a00013.html#aa36823de529173360e3fc4040629945">00340</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00013.html#aa36823de529173360e3fc4040629945">num_data_points</a>;                                                       <span class="comment">///&lt; The number of data points in the scan area</span>
<a name="l00341"></a><a class="code" href="a00013.html#094710562ca9ab28a19ef3156256f7ee">00341</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00013.html#094710562ca9ab28a19ef3156256f7ee">timestamp_start</a>;                                                       <span class="comment">///&lt; The timestamp (in ms) corresponding to the time the first measurement in the sector was taken </span>
<a name="l00342"></a><a class="code" href="a00013.html#51c803f81c8a2d7a1106e9b029e14f8c">00342</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00013.html#51c803f81c8a2d7a1106e9b029e14f8c">timestamp_stop</a>;                                                        <span class="comment">///&lt; The timestamp (in ms) corresponding to the time the last measurement in the sector was taken</span>
<a name="l00343"></a><a class="code" href="a00013.html#9ce56e27dff45594dc4dd3be52603fa7">00343</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00013.html#9ce56e27dff45594dc4dd3be52603fa7">echo_values</a>[<a class="code" href="a00007.html#dfd7fa329ab1709e58bbc3f4454c3ebd">SICK_MAX_NUM_MEASUREMENTS</a>];                                <span class="comment">///&lt; The corresponding echo/reflectivity values</span>
<a name="l00344"></a><a class="code" href="a00013.html#4c1887a55f865a21e801aa4dc5c1cdef">00344</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00013.html#4c1887a55f865a21e801aa4dc5c1cdef">angle_step</a>;                                                                  <span class="comment">///&lt; The angle step used for the given sector (this should be the same for all sectors)</span>
<a name="l00345"></a><a class="code" href="a00013.html#30a3eb40747ecabb0a640e0f3692e895">00345</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00013.html#30a3eb40747ecabb0a640e0f3692e895">angle_start</a>;                                                                 <span class="comment">///&lt; The angle at which the first measurement in the sector was acquired</span>
<a name="l00346"></a><a class="code" href="a00013.html#6cd8af7f609ff6e39d25f1523605a4fb">00346</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00013.html#6cd8af7f609ff6e39d25f1523605a4fb">angle_stop</a>;                                                                  <span class="comment">///&lt; The angle at which the last measurement in the sector was acquired</span>
<a name="l00347"></a><a class="code" href="a00013.html#5133b175ffac72f946446d925d7c8f0d">00347</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00013.html#5133b175ffac72f946446d925d7c8f0d">range_values</a>[<a class="code" href="a00007.html#dfd7fa329ab1709e58bbc3f4454c3ebd">SICK_MAX_NUM_MEASUREMENTS</a>];                                     <span class="comment">///&lt; The corresponding range values (NOTE: The size of this array is intended to be large enough to accomodate various sector configs.)</span>
<a name="l00348"></a><a class="code" href="a00013.html#0df9694063e82bc7bbdf7d15888b809c">00348</a> <span class="comment"></span>      <span class="keywordtype">double</span> <a class="code" href="a00013.html#0df9694063e82bc7bbdf7d15888b809c">scan_angles</a>[<a class="code" href="a00007.html#dfd7fa329ab1709e58bbc3f4454c3ebd">SICK_MAX_NUM_MEASUREMENTS</a>];                                      <span class="comment">///&lt; The scan angles corresponding to the respective measurements</span>
<a name="l00349"></a>00349 <span class="comment"></span>    } <a class="code" href="a00013.html">sick_ld_sector_data_t</a>;
<a name="l00350"></a>00350     <span class="comment"></span>
<a name="l00351"></a>00351 <span class="comment">    /**</span>
<a name="l00352"></a>00352 <span class="comment">     * \struct sick_ld_scan_profile_tag</span>
<a name="l00353"></a>00353 <span class="comment">     * \brief A structure to aggregate the fields that collectively</span>
<a name="l00354"></a>00354 <span class="comment">     *        define the profile of a single scan acquired from the</span>
<a name="l00355"></a>00355 <span class="comment">     *        Sick LD unit.</span>
<a name="l00356"></a>00356 <span class="comment">     */</span><span class="comment"></span>
<a name="l00357"></a>00357 <span class="comment">    /**</span>
<a name="l00358"></a>00358 <span class="comment">     * \typedef sick_ld_scan_profile_t</span>
<a name="l00359"></a>00359 <span class="comment">     * \brief Adopt c-style convention</span>
<a name="l00360"></a>00360 <span class="comment">     */</span>
<a name="l00361"></a><a class="code" href="a00012.html">00361</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00012.html">sick_ld_scan_profile_tag</a> {
<a name="l00362"></a><a class="code" href="a00012.html#774650ef18a71f2e14816fefad129f4b">00362</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#774650ef18a71f2e14816fefad129f4b">profile_number</a>;                                                        <span class="comment">///&lt; The number of profiles sent to the host (i.e. the current profile number)</span>
<a name="l00363"></a><a class="code" href="a00012.html#22734de8b63f42f9f2df0e20a095f417">00363</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#22734de8b63f42f9f2df0e20a095f417">profile_counter</a>;                                                       <span class="comment">///&lt; The number of profiles gathered by the Sick LD</span>
<a name="l00364"></a><a class="code" href="a00012.html#949867f6840aa18084f9af96d9b74763">00364</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#949867f6840aa18084f9af96d9b74763">layer_num</a>;                                                             <span class="comment">///&lt; The layer number associated with a scan (this will always be 0)</span>
<a name="l00365"></a><a class="code" href="a00012.html#8d3d70fad5d542cef0e36112d0008c3e">00365</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#8d3d70fad5d542cef0e36112d0008c3e">sensor_status</a>;                                                         <span class="comment">///&lt; The status of the Sick LD sensor</span>
<a name="l00366"></a><a class="code" href="a00012.html#b29eeb6a4b906ff00f8b72eec518acf5">00366</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#b29eeb6a4b906ff00f8b72eec518acf5">motor_status</a>;                                                          <span class="comment">///&lt; The status of the Sick LD motor</span>
<a name="l00367"></a><a class="code" href="a00012.html#8d40a8be0acb7688a94dfc4734fe4343">00367</a> <span class="comment"></span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00012.html#8d40a8be0acb7688a94dfc4734fe4343">num_sectors</a>;                                                           <span class="comment">///&lt; The number of sectors returned in the profile</span>
<a name="l00368"></a><a class="code" href="a00012.html#82a1b5a8bdb2f7ba7511d0409a8571c8">00368</a> <span class="comment"></span>      <a class="code" href="a00013.html">sick_ld_sector_data_t</a> <a class="code" href="a00012.html#82a1b5a8bdb2f7ba7511d0409a8571c8">sector_data</a>[<a class="code" href="a00007.html#678ac74683610b1a8c342be82c85c662">SICK_MAX_NUM_SECTORS</a>];                            <span class="comment">///&lt; The sectors associated with the scan profile </span>
<a name="l00369"></a>00369 <span class="comment"></span>    } <a class="code" href="a00012.html">sick_ld_scan_profile_t</a>;
<a name="l00370"></a>00370     <span class="comment"></span>
<a name="l00371"></a>00371 <span class="comment">    /** Primary constructor */</span>
<a name="l00372"></a>00372     <a class="code" href="a00007.html#8548641f3bfcb8084d80f8db301c477a">SickLD</a>( <span class="keyword">const</span> std::string sick_ip_address = <a class="code" href="a00042.html#a5dee9cbe487a704c4de28b1a162b030">DEFAULT_SICK_IP_ADDRESS</a>,
<a name="l00373"></a>00373             <span class="keyword">const</span> uint16_t sick_tcp_port = <a class="code" href="a00042.html#d1cf60c8937b1317ad4880c1c9f9099d">DEFAULT_SICK_TCP_PORT</a> );
<a name="l00374"></a>00374     <span class="comment"></span>
<a name="l00375"></a>00375 <span class="comment">    /** Initializes the Sick LD unit (use scan areas defined in flash) */</span>
<a name="l00376"></a>00376     <span class="keywordtype">void</span> <a class="code" href="a00007.html#b70edd6a53083e81f11445337daea6b3">Initialize</a>( )  throw( <a class="code" href="a00006.html">SickIOException</a>, <a class="code" href="a00034.html">SickThreadException</a>, <a class="code" href="a00035.html">SickTimeoutException</a>, <a class="code" href="a00004.html">SickErrorException</a> );
<a name="l00377"></a>00377 <span class="comment"></span>
<a name="l00378"></a>00378 <span class="comment">    /** Gets the sensor and motor mode of the unit */</span>
<a name="l00379"></a>00379     <span class="keywordtype">void</span> <a class="code" href="a00007.html#c5d254f2a7ff734f1493fa21012a16de">GetSickStatus</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;sick_sensor_mode, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;sick_motor_mode )
<a name="l00380"></a>00380       throw( SickIOException, SickTimeoutException );
<a name="l00381"></a>00381 <span class="comment"></span>
<a name="l00382"></a>00382 <span class="comment">    /** Sets the temporal scan configuration (until power is cycled) */</span>
<a name="l00383"></a>00383     <span class="keywordtype">void</span> <a class="code" href="a00007.html#79e34099518dda9099bcdb91649d7ad0">SetSickTempScanAreas</a>( const <span class="keywordtype">double</span> * active_sector_start_angles, const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00384"></a>00384                                const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors )
<a name="l00385"></a>00385       throw( SickTimeoutException, SickIOException, <a class="code" href="a00003.html">SickConfigException</a> );
<a name="l00386"></a>00386     <span class="comment"></span>
<a name="l00387"></a>00387 <span class="comment">    /** Sets the internal clock of the Sick LD unit */</span>
<a name="l00388"></a>00388     <span class="keywordtype">void</span> <a class="code" href="a00007.html#c7c2817cc5d07a162780a608fe36aeb9">SetSickTimeAbsolute</a>( const uint16_t absolute_clock_time, uint16_t &amp;new_sick_clock_time )
<a name="l00389"></a>00389       throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00390"></a>00390 <span class="comment"></span>
<a name="l00391"></a>00391 <span class="comment">    /** Sets the internal clock of the Sick LD using the relative given time value */</span>
<a name="l00392"></a>00392     <span class="keywordtype">void</span> <a class="code" href="a00007.html#1a4cbb8e58b62e7122ce77ebb3670316">SetSickTimeRelative</a>( const int16_t time_delta, uint16_t &amp;new_sick_clock_time )
<a name="l00393"></a>00393       throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00394"></a>00394 <span class="comment"></span>
<a name="l00395"></a>00395 <span class="comment">    /** Gets the internal clock time of the Sick LD unit */</span>
<a name="l00396"></a>00396     <span class="keywordtype">void</span> <a class="code" href="a00007.html#8519105967b86a6265bf788ca43e9d7e">GetSickTime</a>( uint16_t &amp;sick_time )
<a name="l00397"></a>00397       throw( SickIOException, SickTimeoutException, SickErrorException );
<a name="l00398"></a>00398   <span class="comment"></span>
<a name="l00399"></a>00399 <span class="comment">    /** Sets the signal LEDs and switches */</span>
<a name="l00400"></a>00400     <span class="keywordtype">void</span> <a class="code" href="a00007.html#2a934179133de944930a6b4273f704ba">SetSickSignals</a>( const uint8_t sick_signal_flags = <a class="code" href="a00042.html#600082a496620df0a1814f9918afcb28">DEFAULT_SICK_SIGNAL_SET</a> )
<a name="l00401"></a>00401       throw( SickIOException, SickTimeoutException, SickErrorException );
<a name="l00402"></a>00402 <span class="comment"></span>
<a name="l00403"></a>00403 <span class="comment">    /** Query the Sick for its current signal settings */</span>
<a name="l00404"></a>00404     <span class="keywordtype">void</span> <a class="code" href="a00007.html#0f599d53900505c2a338237656f08b4e">GetSickSignals</a>( uint8_t &amp;sick_signal_flags ) throw( SickIOException, SickTimeoutException );
<a name="l00405"></a>00405   <span class="comment"></span>
<a name="l00406"></a>00406 <span class="comment">    /** Enables nearfield suppressive filtering (in flash) */</span>
<a name="l00407"></a>00407     <span class="keywordtype">void</span> <a class="code" href="a00007.html#dfeab2e2eb5272d37c1da9c88eac6b4b">EnableNearfieldSuppression</a>( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00408"></a>00408 <span class="comment"></span>
<a name="l00409"></a>00409 <span class="comment">    /** Disables nearfield suppressive filtering (in flash) */</span>
<a name="l00410"></a>00410     <span class="keywordtype">void</span> <a class="code" href="a00007.html#6c2d1516a1f83b8fda917a401c8ff745">DisableNearfieldSuppression</a>( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00411"></a>00411 <span class="comment"></span>
<a name="l00412"></a>00412 <span class="comment">    /** Acquires measurements and related data for all active sectors */</span>
<a name="l00413"></a>00413     <span class="keywordtype">void</span> <a class="code" href="a00007.html#85348b534284e0c2ec66adb4476bdcfe">GetSickMeasurements</a>( <span class="keywordtype">double</span> * const range_measurements,
<a name="l00414"></a>00414                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const echo_measurements = NULL,
<a name="l00415"></a>00415                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const num_measurements = NULL,
<a name="l00416"></a>00416                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_ids = NULL,
<a name="l00417"></a>00417                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_data_offsets = NULL,
<a name="l00418"></a>00418                               <span class="keywordtype">double</span> * const sector_step_angles = NULL,
<a name="l00419"></a>00419                               <span class="keywordtype">double</span> * const sector_start_angles = NULL,
<a name="l00420"></a>00420                               <span class="keywordtype">double</span> * const sector_stop_angles = NULL,
<a name="l00421"></a>00421                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_start_timestamps = NULL,
<a name="l00422"></a>00422                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_stop_timestamps = NULL )
<a name="l00423"></a>00423       throw( SickErrorException, SickIOException, SickTimeoutException, SickConfigException );
<a name="l00424"></a>00424 <span class="comment"></span>
<a name="l00425"></a>00425 <span class="comment">    /** Attempts to set a new senor ID for the device (in flash) */</span>
<a name="l00426"></a>00426     <span class="keywordtype">void</span> <a class="code" href="a00007.html#f98f56eeb00d638a8f8c07780ade040e">SetSickSensorID</a>( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_sensor_id )
<a name="l00427"></a>00427       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00428"></a>00428 <span class="comment"></span>
<a name="l00429"></a>00429 <span class="comment">    /** Attempts to set a new motor speed for the device (in flash) */</span>
<a name="l00430"></a>00430     <span class="keywordtype">void</span> <a class="code" href="a00007.html#d2aa1dac38947cb4131f28828149c8ac">SetSickMotorSpeed</a>( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed )
<a name="l00431"></a>00431       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00432"></a>00432 <span class="comment"></span>
<a name="l00433"></a>00433 <span class="comment">    /** Attempts to set a new scan resolution for the device (in flash) */</span>
<a name="l00434"></a>00434     <span class="keywordtype">void</span> <a class="code" href="a00007.html#61959cee5fcfa2b4ec22e09d60452187">SetSickScanResolution</a>( const <span class="keywordtype">double</span> sick_step_angle )
<a name="l00435"></a>00435       throw( SickTimeoutException, SickIOException, SickConfigException );
<a name="l00436"></a>00436 <span class="comment"></span>
<a name="l00437"></a>00437 <span class="comment">    /** Attempts to set the global params and the active scan sectors for the device (in flash) */</span>
<a name="l00438"></a>00438     <span class="keywordtype">void</span> <a class="code" href="a00007.html#ebbb66a8704eb951d2159134eb1a9f11">SetSickGlobalParamsAndScanAreas</a>( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed,
<a name="l00439"></a>00439                                           const <span class="keywordtype">double</span> sick_step_angle,
<a name="l00440"></a>00440                                           const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00441"></a>00441                                           const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00442"></a>00442                                           const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors )
<a name="l00443"></a>00443       throw( SickTimeoutException, SickIOException, SickConfigException, SickErrorException );
<a name="l00444"></a>00444 <span class="comment"></span>
<a name="l00445"></a>00445 <span class="comment">    /** Attempts to set the active scan sectors for the device (in flash) */</span>
<a name="l00446"></a>00446     <span class="keywordtype">void</span> <a class="code" href="a00007.html#24cf9c3a6090c8d12fead15d4e38e8f8">SetSickScanAreas</a>( const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00447"></a>00447                            const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00448"></a>00448                            const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors )
<a name="l00449"></a>00449       throw( SickTimeoutException, SickIOException, SickConfigException, SickErrorException );
<a name="l00450"></a>00450 <span class="comment"></span>
<a name="l00451"></a>00451 <span class="comment">    /** Resets the Sick LD using the given reset level */</span>
<a name="l00452"></a>00452     <span class="keywordtype">void</span> <a class="code" href="a00007.html#3d9af85a33ddd7036a2edecd5268647e">ResetSick</a>( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> reset_level = <a class="code" href="a00007.html#87f2ac4a2f8e9ffbb0e33cfdeffefe3e">SICK_WORK_SERV_RESET_INIT_CPU</a> )
<a name="l00453"></a>00453       throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00454"></a>00454 <span class="comment"></span>
<a name="l00455"></a>00455 <span class="comment">    /** Returns the number of active/measuring sectors */</span>
<a name="l00456"></a>00456     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00007.html#e050edbfee4c859f602897f4d7df25cf">GetSickNumActiveSectors</a>( ) const;
<a name="l00457"></a>00457   <span class="comment"></span>
<a name="l00458"></a>00458 <span class="comment">    /** Acquire the Sick LD's sensor ID */</span>
<a name="l00459"></a>00459     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00007.html#8d74a3b8e579ce9c8de77f2b60796c47">GetSickSensorID</a>( ) const;
<a name="l00460"></a>00460 <span class="comment"></span>
<a name="l00461"></a>00461 <span class="comment">    /** Acquire the Sick LD's current motor speed in Hz */</span>
<a name="l00462"></a>00462     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00007.html#caee6805a007c9b66f9cc968e8795166">GetSickMotorSpeed</a>( ) const;
<a name="l00463"></a>00463 <span class="comment"></span>
<a name="l00464"></a>00464 <span class="comment">    /** Acquire the Sick LD's current scan resolution */</span>
<a name="l00465"></a>00465     <span class="keywordtype">double</span> <a class="code" href="a00007.html#fdd4f26c3884413d31e158c02ffaf74a">GetSickScanResolution</a>( ) const;
<a name="l00466"></a>00466   <span class="comment"></span>
<a name="l00467"></a>00467 <span class="comment">    /** Acquire the current IP address of the Sick */</span>
<a name="l00468"></a>00468     std::string <a class="code" href="a00007.html#66a59964ee4959ae9bafa27f1f4d53c9">GetSickIPAddress</a>( ) const;
<a name="l00469"></a>00469   <span class="comment"></span>
<a name="l00470"></a>00470 <span class="comment">    /** Acquire the subnet mask for the Sick */</span>
<a name="l00471"></a>00471     std::string <a class="code" href="a00007.html#27804cd579438565a8f16bf35597dc7d">GetSickSubnetMask</a>( ) const;
<a name="l00472"></a>00472   <span class="comment"></span>
<a name="l00473"></a>00473 <span class="comment">    /** Acquire the IP address of the Sick gateway */</span>
<a name="l00474"></a>00474     std::string <a class="code" href="a00007.html#232ed2a696f6f30768cb1c3ac70be847">GetSickGatewayIPAddress</a>( ) const;
<a name="l00475"></a>00475   <span class="comment"></span>
<a name="l00476"></a>00476 <span class="comment">    /** Acquire the Sick LD's part number */</span>
<a name="l00477"></a>00477     std::string <a class="code" href="a00007.html#b70b3533041c45683bd4d52799da85d3">GetSickPartNumber</a>( ) const;
<a name="l00478"></a>00478 <span class="comment"></span>
<a name="l00479"></a>00479 <span class="comment">    /** Acquire the Sick LD's name */</span>
<a name="l00480"></a>00480     std::string <a class="code" href="a00007.html#2f3fe9051f0ed02f22c4953f34c9105b">GetSickName</a>( ) const;
<a name="l00481"></a>00481 <span class="comment"></span>
<a name="l00482"></a>00482 <span class="comment">    /** Acquire the Sick LD's version number */</span>
<a name="l00483"></a>00483     std::string <a class="code" href="a00007.html#c55d657c30ecbb196ab0e565b3373367">GetSickVersion</a>( ) const;
<a name="l00484"></a>00484 <span class="comment"></span>
<a name="l00485"></a>00485 <span class="comment">    /** Acquire the Sick LD's serial number */</span>
<a name="l00486"></a>00486     std::string <a class="code" href="a00007.html#a3636bd99b1a92d0425cd2be862c4b4e">GetSickSerialNumber</a>( ) const;
<a name="l00487"></a>00487 <span class="comment"></span>
<a name="l00488"></a>00488 <span class="comment">    /** Acquire the Sick LD's EDM serial number */</span>
<a name="l00489"></a>00489     std::string <a class="code" href="a00007.html#9f47c68e2a5a13b90d06c44e7d25b1dc">GetSickEDMSerialNumber</a>( ) const;
<a name="l00490"></a>00490 <span class="comment"></span>
<a name="l00491"></a>00491 <span class="comment">    /** Acquire the Sick LD's firmware part number */</span>
<a name="l00492"></a>00492     std::string <a class="code" href="a00007.html#b4bd8f0d90d55e9dbc609fd258aa5fe5">GetSickFirmwarePartNumber</a>( ) const;
<a name="l00493"></a>00493 <span class="comment"></span>
<a name="l00494"></a>00494 <span class="comment">    /** Acquire the Sick LD's firmware number */</span>
<a name="l00495"></a>00495     std::string <a class="code" href="a00007.html#0622700ca1bd94e2b13e0e8e9f469c0a">GetSickFirmwareName</a>( ) const;
<a name="l00496"></a>00496 <span class="comment"></span>
<a name="l00497"></a>00497 <span class="comment">    /** Acquire the Sick LD's firmware version */</span>
<a name="l00498"></a>00498     std::string <a class="code" href="a00007.html#7a57a6a983cb0d7c10a51057af83de30">GetSickFirmwareVersion</a>( ) const;
<a name="l00499"></a>00499 <span class="comment"></span>
<a name="l00500"></a>00500 <span class="comment">    /** Acquire the Sick LD's application software part number */</span>
<a name="l00501"></a>00501     std::string <a class="code" href="a00007.html#862157618b9cbaae12947268ea02fb99">GetSickAppSoftwarePartNumber</a>( ) const;
<a name="l00502"></a>00502 <span class="comment"></span>
<a name="l00503"></a>00503 <span class="comment">    /** Acquire the Sick LD's application software name */</span>
<a name="l00504"></a>00504     std::string <a class="code" href="a00007.html#e8a5213e8e2e7e7f0513a12599a68eab">GetSickAppSoftwareName</a>( ) const;
<a name="l00505"></a>00505 <span class="comment"></span>
<a name="l00506"></a>00506 <span class="comment">    /** Acquire the Sick LD's application software version number */</span>
<a name="l00507"></a>00507     std::string <a class="code" href="a00007.html#bd417ebc4f9f38d9c74568d43c618863">GetSickAppSoftwareVersionNumber</a>( ) const;
<a name="l00508"></a>00508 <span class="comment"></span>
<a name="l00509"></a>00509 <span class="comment">    /** Acquire the Sick LD's status as a printable string */</span>
<a name="l00510"></a>00510     std::string <a class="code" href="a00007.html#032d9ee77852917083f85f8500303646">GetSickStatusAsString</a>() const;
<a name="l00511"></a>00511 <span class="comment"></span>
<a name="l00512"></a>00512 <span class="comment">    /** Acquire the Sick LD's identity as a printable string */</span>
<a name="l00513"></a>00513     std::string <a class="code" href="a00007.html#662eb5eb6f64b2dd218e73e7d75533e3">GetSickIdentityAsString</a>() const;
<a name="l00514"></a>00514 <span class="comment"></span>
<a name="l00515"></a>00515 <span class="comment">    /** Acquire the Sick LD's global config as a printable string */</span>
<a name="l00516"></a>00516     std::string <a class="code" href="a00007.html#8025450a3d4811e0ddfed4ad8eaedc80">GetSickGlobalConfigAsString</a>() const;
<a name="l00517"></a>00517 <span class="comment"></span>
<a name="l00518"></a>00518 <span class="comment">    /** Acquire the Sick LD's Ethernet config as a printable string */</span>
<a name="l00519"></a>00519     std::string <a class="code" href="a00007.html#e9a797b26b7137f7f54b30580d837c50">GetSickEthernetConfigAsString</a>() const;
<a name="l00520"></a>00520 <span class="comment"></span>
<a name="l00521"></a>00521 <span class="comment">    /** Acquire the Sick LD's sector config as a printable string */</span>
<a name="l00522"></a>00522     std::string <a class="code" href="a00007.html#64c242cac689b3c34cb746dd8dcd0661">GetSickSectorConfigAsString</a>() const;
<a name="l00523"></a>00523     <span class="comment"></span>
<a name="l00524"></a>00524 <span class="comment">    /** Acquire the total scan area (in degrees) being scanned by the Sick LD */</span>
<a name="l00525"></a>00525     <span class="keywordtype">double</span> <a class="code" href="a00007.html#922fd5aa54f276fc6ceb7b69b784978d">GetSickScanArea</a>( ) const;
<a name="l00526"></a>00526   <span class="comment"></span>
<a name="l00527"></a>00527 <span class="comment">    /** Prints the Sick LD's status information */</span>
<a name="l00528"></a>00528     <span class="keywordtype">void</span> <a class="code" href="a00007.html#26c4175490d596ff8e299c38a63ecfcb">PrintSickStatus</a>( ) const;
<a name="l00529"></a>00529 <span class="comment"></span>
<a name="l00530"></a>00530 <span class="comment">    /** Prints the Sick LD's identity information */</span>
<a name="l00531"></a>00531     <span class="keywordtype">void</span> <a class="code" href="a00007.html#2f598b0daa8cb185ab7e123870348bff">PrintSickIdentity</a>( ) const;
<a name="l00532"></a>00532 <span class="comment"></span>
<a name="l00533"></a>00533 <span class="comment">    /** Prints the global configuration parameter values */</span>
<a name="l00534"></a>00534     <span class="keywordtype">void</span> <a class="code" href="a00007.html#4cb995bfa421f7ba17afe2fa5c38fe1f">PrintSickGlobalConfig</a>( ) const;
<a name="l00535"></a>00535 <span class="comment"></span>
<a name="l00536"></a>00536 <span class="comment">    /** Prints the Ethernet configuration parameter values */</span>
<a name="l00537"></a>00537     <span class="keywordtype">void</span> <a class="code" href="a00007.html#fe6d63fe6cac746e8ebfeea0a495b4a6">PrintSickEthernetConfig</a>( ) const;
<a name="l00538"></a>00538 <span class="comment"></span>
<a name="l00539"></a>00539 <span class="comment">    /** Prints the Sick Sector configuration */</span>
<a name="l00540"></a>00540     <span class="keywordtype">void</span> <a class="code" href="a00007.html#9afc91654eee84ab08f65e0d2b1866cd">PrintSickSectorConfig</a>( ) const;
<a name="l00541"></a>00541   <span class="comment"></span>
<a name="l00542"></a>00542 <span class="comment">    /** Uninitializes the Sick LD unit */</span>
<a name="l00543"></a>00543     <span class="keywordtype">void</span> <a class="code" href="a00007.html#5c31107d814ea02f442282d97430fc11">Uninitialize</a>( ) throw( SickIOException, SickTimeoutException, SickErrorException, SickThreadException );
<a name="l00544"></a>00544 <span class="comment"></span>
<a name="l00545"></a>00545 <span class="comment">    /** Destructor */</span>
<a name="l00546"></a>00546     ~<a class="code" href="a00007.html">SickLD</a>();
<a name="l00547"></a>00547 
<a name="l00548"></a>00548   private:
<a name="l00549"></a>00549 <span class="comment"></span>
<a name="l00550"></a>00550 <span class="comment">    /** The Sick LD IP address */</span>
<a name="l00551"></a>00551     std::string _sick_ip_address;
<a name="l00552"></a>00552 <span class="comment"></span>
<a name="l00553"></a>00553 <span class="comment">    /** The Sick LD TCP port number */</span>
<a name="l00554"></a>00554     uint16_t _sick_tcp_port;
<a name="l00555"></a>00555 <span class="comment"></span>
<a name="l00556"></a>00556 <span class="comment">    /** Sick LD socket structure */</span>
<a name="l00557"></a>00557     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _socket;
<a name="l00558"></a>00558   <span class="comment"></span>
<a name="l00559"></a>00559 <span class="comment">    /** Sick LD socket address structure */</span>
<a name="l00560"></a>00560     struct sockaddr_in _sick_inet_address_info;
<a name="l00561"></a>00561 <span class="comment"></span>
<a name="l00562"></a>00562 <span class="comment">    /** The current sensor mode */</span>
<a name="l00563"></a>00563     uint8_t _sick_sensor_mode;
<a name="l00564"></a>00564 <span class="comment"></span>
<a name="l00565"></a>00565 <span class="comment">    /** The mode of the motor */</span>
<a name="l00566"></a>00566     uint8_t _sick_motor_mode;
<a name="l00567"></a>00567 <span class="comment"></span>
<a name="l00568"></a>00568 <span class="comment">    /** Indicates whether the Sick LD is currently streaming range data */</span>
<a name="l00569"></a>00569     <span class="keywordtype">bool</span> _sick_streaming_range_data;
<a name="l00570"></a>00570 <span class="comment"></span>
<a name="l00571"></a>00571 <span class="comment">    /** Indicates whether the Sick LD is currently streaming range and echo data */</span>
<a name="l00572"></a>00572     <span class="keywordtype">bool</span> _sick_streaming_range_and_echo_data;
<a name="l00573"></a>00573   <span class="comment"></span>
<a name="l00574"></a>00574 <span class="comment">    /** The identity structure for the Sick */</span>
<a name="l00575"></a>00575     <a class="code" href="a00011.html">sick_ld_identity_t</a> _sick_identity;
<a name="l00576"></a>00576 <span class="comment"></span>
<a name="l00577"></a>00577 <span class="comment">    /** The current global configuration for the unit */</span>
<a name="l00578"></a>00578     <a class="code" href="a00009.html">sick_ld_config_global_t</a> _sick_global_config;
<a name="l00579"></a>00579   <span class="comment"></span>
<a name="l00580"></a>00580 <span class="comment">    /** The current Ethernet configuration for the unit */</span>
<a name="l00581"></a>00581     <a class="code" href="a00008.html">sick_ld_config_ethernet_t</a> _sick_ethernet_config;
<a name="l00582"></a>00582 <span class="comment"></span>
<a name="l00583"></a>00583 <span class="comment">    /** The current sector configuration for the unit */</span>
<a name="l00584"></a>00584     <a class="code" href="a00010.html">sick_ld_config_sector_t</a> _sick_sector_config;
<a name="l00585"></a>00585 <span class="comment"></span>
<a name="l00586"></a>00586 <span class="comment">    /** Setup the connection parameters and establish TCP connection! */</span>
<a name="l00587"></a>00587     <span class="keywordtype">void</span> _setupConnection( ) throw( SickIOException, SickTimeoutException );
<a name="l00588"></a>00588   <span class="comment"></span>
<a name="l00589"></a>00589 <span class="comment">    /** Synchronizes the driver state with the Sick LD (used for initialization) */</span>
<a name="l00590"></a>00590     <span class="keywordtype">void</span> _syncDriverWithSick( ) throw( SickIOException, SickTimeoutException, SickErrorException );
<a name="l00591"></a>00591 <span class="comment"></span>
<a name="l00592"></a>00592 <span class="comment">    /** Set the function for a particular scan secto */</span>
<a name="l00593"></a>00593     <span class="keywordtype">void</span> _setSickSectorFunction( const uint8_t sector_number, const uint8_t sector_function,
<a name="l00594"></a>00594                                  const <span class="keywordtype">double</span> sector_angle_stop, const <span class="keywordtype">bool</span> write_to_flash = false )
<a name="l00595"></a>00595        throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00596"></a>00596   <span class="comment"></span>
<a name="l00597"></a>00597 <span class="comment">    /** Acquires the given Sector's function (i.e. current config) */</span>
<a name="l00598"></a>00598     <span class="keywordtype">void</span> _getSickSectorFunction( const uint8_t sector_num, uint8_t &amp;sector_function, <span class="keywordtype">double</span> &amp;sector_stop_angle )
<a name="l00599"></a>00599       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00600"></a>00600   <span class="comment"></span>
<a name="l00601"></a>00601 <span class="comment">    /** Sets the Sick LD to IDLE mode */</span>
<a name="l00602"></a>00602     <span class="keywordtype">void</span> _setSickSensorModeToIdle( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00603"></a>00603 <span class="comment"></span>
<a name="l00604"></a>00604 <span class="comment">    /** Sets the Sick LD to ROTATE mode */</span>
<a name="l00605"></a>00605     <span class="keywordtype">void</span> _setSickSensorModeToRotate( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00606"></a>00606 <span class="comment"></span>
<a name="l00607"></a>00607 <span class="comment">    /** Sets the Sick LD to MEASURE mode */</span>
<a name="l00608"></a>00608     <span class="keywordtype">void</span> _setSickSensorModeToMeasure( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00609"></a>00609   <span class="comment"></span>
<a name="l00610"></a>00610 <span class="comment">    /** Sets the Sick LD's sensor mode to IDLE (laser off, motor off) */</span>
<a name="l00611"></a>00611     <span class="keywordtype">void</span> _setSickSensorMode( const uint8_t new_sick_sensor_mode )
<a name="l00612"></a>00612       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00613"></a>00613   <span class="comment"></span>
<a name="l00614"></a>00614 <span class="comment">    /** Requests n range measurement profiles from the Sick LD */</span>
<a name="l00615"></a>00615     <span class="keywordtype">void</span> _getSickScanProfiles( const uint16_t profile_format, const uint16_t num_profiles = <a class="code" href="a00042.html#11c6f7b64bbeafc508c8b88f05c18137">DEFAULT_SICK_NUM_SCAN_PROFILES</a> )
<a name="l00616"></a>00616       throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00617"></a>00617 <span class="comment"></span>
<a name="l00618"></a>00618 <span class="comment">    /** Parses a sequence of bytes and populates the profile_data struct w/ the results */</span>
<a name="l00619"></a>00619     <span class="keywordtype">void</span> _parseScanProfile( uint8_t * const src_buffer, <a class="code" href="a00012.html">sick_ld_scan_profile_t</a> &amp;profile_data ) const;
<a name="l00620"></a>00620 <span class="comment"></span>
<a name="l00621"></a>00621 <span class="comment">    /** Cancels the active data stream */</span>
<a name="l00622"></a>00622     <span class="keywordtype">void</span> _cancelSickScanProfiles( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00623"></a>00623 <span class="comment"></span>
<a name="l00624"></a>00624 <span class="comment">    /** Turns nearfield suppression on/off */</span>
<a name="l00625"></a>00625     <span class="keywordtype">void</span> _setSickFilter( const uint8_t suppress_code )
<a name="l00626"></a>00626       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00627"></a>00627   <span class="comment"></span>
<a name="l00628"></a>00628 <span class="comment">    /** Stores an image of the Sick LD's identity locally */</span>
<a name="l00629"></a>00629     <span class="keywordtype">void</span> _getSickIdentity( ) throw( SickTimeoutException, SickIOException );
<a name="l00630"></a>00630 <span class="comment"></span>
<a name="l00631"></a>00631 <span class="comment">    /** Query the Sick for its sensor and motor status */</span>
<a name="l00632"></a>00632     <span class="keywordtype">void</span> _getSickStatus( ) throw( SickTimeoutException, SickIOException );
<a name="l00633"></a>00633 <span class="comment"></span>
<a name="l00634"></a>00634 <span class="comment">    /** Sets the Sick LD's global configuration (in flash) */</span>
<a name="l00635"></a>00635     <span class="keywordtype">void</span> _setSickGlobalConfig( const uint8_t sick_sensor_id, const uint8_t sick_motor_speed, const <span class="keywordtype">double</span> sick_angle_step )
<a name="l00636"></a>00636       throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00637"></a>00637 <span class="comment"></span>
<a name="l00638"></a>00638 <span class="comment">    /** Query the Sick for its global configuration parameters */</span>
<a name="l00639"></a>00639     <span class="keywordtype">void</span> _getSickGlobalConfig( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00640"></a>00640 <span class="comment"></span>
<a name="l00641"></a>00641 <span class="comment">    /** Query the Sick for its Ethernet configuration parameters */</span>
<a name="l00642"></a>00642     <span class="keywordtype">void</span> _getSickEthernetConfig( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00643"></a>00643 <span class="comment"></span>
<a name="l00644"></a>00644 <span class="comment">    /** Acquires the configuration (function and stop angle) for each sector */</span>
<a name="l00645"></a>00645     <span class="keywordtype">void</span> _getSickSectorConfig( ) throw( SickErrorException, SickTimeoutException, SickIOException );
<a name="l00646"></a>00646   <span class="comment"></span>
<a name="l00647"></a>00647 <span class="comment">    /** Query the Sick for ID information */</span>
<a name="l00648"></a>00648     <span class="keywordtype">void</span> _getIdentificationString( const uint8_t id_request_code, std::string &amp;id_return_string )
<a name="l00649"></a>00649       throw( SickTimeoutException, SickIOException );
<a name="l00650"></a>00650   <span class="comment"></span>
<a name="l00651"></a>00651 <span class="comment">    /** Query the Sick for its sensor part number */</span>
<a name="l00652"></a>00652     <span class="keywordtype">void</span> _getSensorPartNumber( ) throw( SickTimeoutException, SickIOException );
<a name="l00653"></a>00653 <span class="comment"></span>
<a name="l00654"></a>00654 <span class="comment">    /** Query the Sick for its assigned name */</span>
<a name="l00655"></a>00655     <span class="keywordtype">void</span> _getSensorName( ) throw( SickTimeoutException, SickIOException );
<a name="l00656"></a>00656 <span class="comment"></span>
<a name="l00657"></a>00657 <span class="comment">    /** Query the Sick for its version number */</span>
<a name="l00658"></a>00658     <span class="keywordtype">void</span> _getSensorVersion( ) throw( SickTimeoutException, SickIOException );
<a name="l00659"></a>00659 <span class="comment"></span>
<a name="l00660"></a>00660 <span class="comment">    /** Query the Sick for its serial number */</span>
<a name="l00661"></a>00661     <span class="keywordtype">void</span> _getSensorSerialNumber( ) throw( SickTimeoutException, SickIOException );
<a name="l00662"></a>00662 <span class="comment"></span>
<a name="l00663"></a>00663 <span class="comment">    /** Query the Sick for its EDM unit's serial number */</span>
<a name="l00664"></a>00664     <span class="keywordtype">void</span> _getSensorEDMSerialNumber( ) throw( SickTimeoutException, SickIOException );
<a name="l00665"></a>00665 <span class="comment"></span>
<a name="l00666"></a>00666 <span class="comment">    /** Query the Sick for the part number of its firmware */</span>
<a name="l00667"></a>00667     <span class="keywordtype">void</span> _getFirmwarePartNumber( ) throw( SickTimeoutException, SickIOException );
<a name="l00668"></a>00668 <span class="comment"></span>
<a name="l00669"></a>00669 <span class="comment">    /** Query the Sick for the name of its firmware */</span>
<a name="l00670"></a>00670     <span class="keywordtype">void</span> _getFirmwareName( ) throw( SickTimeoutException, SickIOException );
<a name="l00671"></a>00671 <span class="comment"></span>
<a name="l00672"></a>00672 <span class="comment">    /** Query the Sick for the version of the firmware */</span>
<a name="l00673"></a>00673     <span class="keywordtype">void</span> _getFirmwareVersion( ) throw( SickTimeoutException, SickIOException );
<a name="l00674"></a>00674 <span class="comment"></span>
<a name="l00675"></a>00675 <span class="comment">    /** Query the part number of the application software */</span>
<a name="l00676"></a>00676     <span class="keywordtype">void</span> _getApplicationSoftwarePartNumber( ) throw( SickTimeoutException, SickIOException );
<a name="l00677"></a>00677 <span class="comment"></span>
<a name="l00678"></a>00678 <span class="comment">    /** Query the Sick for the application name */</span>
<a name="l00679"></a>00679     <span class="keywordtype">void</span> _getApplicationSoftwareName( ) throw( SickTimeoutException, SickIOException );
<a name="l00680"></a>00680 <span class="comment"></span>
<a name="l00681"></a>00681 <span class="comment">    /** Query the Sick for the application software version */</span>
<a name="l00682"></a>00682     <span class="keywordtype">void</span> _getApplicationSoftwareVersion( ) throw( SickTimeoutException, SickIOException );
<a name="l00683"></a>00683 <span class="comment"></span>
<a name="l00684"></a>00684 <span class="comment">    /** Allows setting the global parameters and scan area definition (in flash) */</span>
<a name="l00685"></a>00685     <span class="keywordtype">void</span> _setSickGlobalParamsAndScanAreas( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed, const <span class="keywordtype">double</span> sick_step_angle,
<a name="l00686"></a>00686                                            const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00687"></a>00687                                            const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00688"></a>00688                                            const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors )
<a name="l00689"></a>00689        throw( SickTimeoutException, SickIOException, SickConfigException, SickErrorException );
<a name="l00690"></a>00690 <span class="comment"></span>
<a name="l00691"></a>00691 <span class="comment">    /** Allows setting a temporary (until a device reset) sector configuration on the device */</span>
<a name="l00692"></a>00692     <span class="keywordtype">void</span> _setSickTemporaryScanAreas( const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00693"></a>00693                                      const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00694"></a>00694                                      const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors )
<a name="l00695"></a>00695       throw( SickTimeoutException, SickIOException, SickConfigException );
<a name="l00696"></a>00696 <span class="comment"></span>
<a name="l00697"></a>00697 <span class="comment">    /** Sets the sick sector configuration */</span>
<a name="l00698"></a>00698     <span class="keywordtype">void</span> _setSickSectorConfig( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_functions, const <span class="keywordtype">double</span> * const sector_stop_angles,
<a name="l00699"></a>00699                                const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_sectors, const <span class="keywordtype">bool</span> write_to_flash = false )
<a name="l00700"></a>00700       throw( SickErrorException, SickTimeoutException, SickIOException, SickConfigException );
<a name="l00701"></a>00701 <span class="comment"></span>
<a name="l00702"></a>00702 <span class="comment">    /** Sets the signals for the device */</span>
<a name="l00703"></a>00703     <span class="keywordtype">void</span> _setSickSignals( const uint8_t sick_signal_flags = <a class="code" href="a00042.html#600082a496620df0a1814f9918afcb28">DEFAULT_SICK_SIGNAL_SET</a> )
<a name="l00704"></a>00704       throw( SickIOException, SickTimeoutException, SickErrorException );
<a name="l00705"></a>00705   <span class="comment"></span>
<a name="l00706"></a>00706 <span class="comment">    /** Send a message, get the reply from the Sick LD and check it */</span>
<a name="l00707"></a>00707     <span class="keywordtype">void</span> _sendMessageAndGetReply( const <a class="code" href="a00015.html">SickLDMessage</a> &amp;send_message, <a class="code" href="a00015.html">SickLDMessage</a> &amp;recv_message,
<a name="l00708"></a>00708                                   const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> timeout_value = <a class="code" href="a00042.html#81a45952cd80f2418d64aa89c4cd64a5">DEFAULT_SICK_MESSAGE_TIMEOUT</a> ) 
<a name="l00709"></a>00709       throw( SickIOException, SickTimeoutException );
<a name="l00710"></a>00710 <span class="comment"></span>
<a name="l00711"></a>00711 <span class="comment">    /** Flushed the TCP receive buffer */</span>
<a name="l00712"></a>00712     <span class="keywordtype">void</span> _flushTCPRecvBuffer( ) throw ( SickIOException, SickThreadException );
<a name="l00713"></a>00713     <span class="comment"></span>
<a name="l00714"></a>00714 <span class="comment">    /** Teardown the connection to the Sick LD */</span>
<a name="l00715"></a>00715     <span class="keywordtype">void</span> _teardownConnection( ) throw( SickIOException );
<a name="l00716"></a>00716 <span class="comment"></span>
<a name="l00717"></a>00717 <span class="comment">    /** Generates a device-ready sector set given only an active sector spec. */</span>
<a name="l00718"></a>00718     <span class="keywordtype">void</span> _generateSickSectorConfig( const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00719"></a>00719                                     const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00720"></a>00720                                     const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors,
<a name="l00721"></a>00721                                     const <span class="keywordtype">double</span> sick_step_angle,
<a name="l00722"></a>00722                                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * const sector_functions, 
<a name="l00723"></a>00723                                     <span class="keywordtype">double</span> * const sector_stop_angles,
<a name="l00724"></a>00724                                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;num_sectors ) const;
<a name="l00725"></a>00725   <span class="comment"></span>
<a name="l00726"></a>00726 <span class="comment">    /** Converts odometry ticks to an equivalent angle */</span>
<a name="l00727"></a>00727     <span class="keywordtype">double</span> _ticksToAngle( const uint16_t ticks ) const;
<a name="l00728"></a>00728 <span class="comment"></span>
<a name="l00729"></a>00729 <span class="comment">    /** Converts angle to an equivalent representation in odometer ticks */</span>
<a name="l00730"></a>00730     uint16_t _angleToTicks( const <span class="keywordtype">double</span> angle ) const;
<a name="l00731"></a>00731 <span class="comment"></span>
<a name="l00732"></a>00732 <span class="comment">    /** Computes the mean pulse frequency for the given config */</span>
<a name="l00733"></a>00733     <span class="keywordtype">double</span> _computeMeanPulseFrequency( const <span class="keywordtype">double</span> active_scan_area, const <span class="keywordtype">double</span> curr_motor_speed,
<a name="l00734"></a>00734                                        const <span class="keywordtype">double</span> curr_angular_resolution ) const;
<a name="l00735"></a>00735   <span class="comment"></span>
<a name="l00736"></a>00736 <span class="comment">    /** Computes the total pulse frequency for the given config */</span>
<a name="l00737"></a>00737     <span class="keywordtype">double</span> _computeMaxPulseFrequency( const <span class="keywordtype">double</span> total_scan_area, const <span class="keywordtype">double</span> curr_motor_speed,
<a name="l00738"></a>00738                                       const <span class="keywordtype">double</span> curr_angular_resolution ) const;
<a name="l00739"></a>00739 <span class="comment"></span>
<a name="l00740"></a>00740 <span class="comment">    /** Indicates whether a given sensor ID is valid for the device */</span>
<a name="l00741"></a>00741     <span class="keywordtype">bool</span> _validSickSensorID( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_sensor_id ) const;
<a name="l00742"></a>00742 <span class="comment"></span>
<a name="l00743"></a>00743 <span class="comment">    /** Indicates whether a given motor speed is valid for the device */</span>
<a name="l00744"></a>00744     <span class="keywordtype">bool</span> _validSickMotorSpeed( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed ) const;
<a name="l00745"></a>00745 <span class="comment"></span>
<a name="l00746"></a>00746 <span class="comment">    /** Indicates whether a given motor speed is valid for the device */</span>
<a name="l00747"></a>00747     <span class="keywordtype">bool</span> _validSickScanResolution( const <span class="keywordtype">double</span> sick_step_angle, const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00748"></a>00748                                    const <span class="keywordtype">double</span> * const active_sector_stop_angles, const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors ) const;
<a name="l00749"></a>00749 <span class="comment"></span>
<a name="l00750"></a>00750 <span class="comment">    /** Indicates whether the given configuration yields a valid max and mean pulse frequency */</span>
<a name="l00751"></a>00751     <span class="keywordtype">bool</span> _validPulseFrequency( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed, const <span class="keywordtype">double</span> sick_step_angle ) const;
<a name="l00752"></a>00752   <span class="comment"></span>
<a name="l00753"></a>00753 <span class="comment">    /** Indicates whether the given configuration yields a valid max and mean pulse frequency */</span>
<a name="l00754"></a>00754     <span class="keywordtype">bool</span> _validPulseFrequency( const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sick_motor_speed, const <span class="keywordtype">double</span> sick_step_angle,
<a name="l00755"></a>00755                                const <span class="keywordtype">double</span> * const active_sector_start_angles,
<a name="l00756"></a>00756                                const <span class="keywordtype">double</span> * const active_sector_stop_angles,
<a name="l00757"></a>00757                                const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors ) const;
<a name="l00758"></a>00758   <span class="comment"></span>
<a name="l00759"></a>00759 <span class="comment">    /** Returns the scanning area for the device given the current sector configuration */</span>
<a name="l00760"></a>00760     <span class="keywordtype">double</span> _computeScanArea( const <span class="keywordtype">double</span> sick_step_angle, const <span class="keywordtype">double</span> * const sector_start_angles,
<a name="l00761"></a>00761                              const <span class="keywordtype">double</span> * const sector_stop_angles, const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_sectors ) const;
<a name="l00762"></a>00762 <span class="comment"></span>
<a name="l00763"></a>00763 <span class="comment">    /** Reorders given sector angle sets */</span>
<a name="l00764"></a>00764     <span class="keywordtype">void</span> _sortScanAreas( <span class="keywordtype">double</span> * const sector_start_angles, <span class="keywordtype">double</span> * const sector_stop_angles,
<a name="l00765"></a>00765                          const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_sectors ) const;
<a name="l00766"></a>00766 <span class="comment"></span>
<a name="l00767"></a>00767 <span class="comment">    /** Checks the given sector arguments for overlapping regions yielding an invalid configuration */</span>
<a name="l00768"></a>00768     <span class="keywordtype">bool</span> _validActiveSectors( const <span class="keywordtype">double</span> * const sector_start_angles, const <span class="keywordtype">double</span> * const sector_stop_angles,
<a name="l00769"></a>00769                               const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_active_sectors ) const;
<a name="l00770"></a>00770     <span class="comment"></span>
<a name="l00771"></a>00771 <span class="comment">    /** Indicates whether the supplied profile format is currently supported by the driver */</span>
<a name="l00772"></a>00772     <span class="keywordtype">bool</span> _supportedScanProfileFormat( const uint16_t profile_format ) const; 
<a name="l00773"></a>00773 <span class="comment"></span>
<a name="l00774"></a>00774 <span class="comment">    /** Prints data corresponding to a single scan sector (data obtained using GET_PROFILE) */</span>
<a name="l00775"></a>00775     <span class="keywordtype">void</span> _printSectorProfileData( const <a class="code" href="a00013.html">sick_ld_sector_data_t</a> &amp;sector_data ) const;
<a name="l00776"></a>00776 <span class="comment"></span>
<a name="l00777"></a>00777 <span class="comment">    /** Prints the data corresponding to the given scan profile (for debugging purposes) */</span>
<a name="l00778"></a>00778     <span class="keywordtype">void</span> _printSickScanProfile( const <a class="code" href="a00012.html">sick_ld_scan_profile_t</a> profile_data, const <span class="keywordtype">bool</span> print_sector_data = true ) const;
<a name="l00779"></a>00779 <span class="comment"></span>
<a name="l00780"></a>00780 <span class="comment">    /** Returns the corresponding work service subcode required to transition the Sick LD to the given sensor mode. */</span>
<a name="l00781"></a>00781     uint8_t _sickSensorModeToWorkServiceSubcode( const uint8_t sick_sensor_mode ) const;
<a name="l00782"></a>00782 <span class="comment"></span>
<a name="l00783"></a>00783 <span class="comment">    /** Converts _sick_sensor_mode to a representative string */</span>
<a name="l00784"></a>00784     std::string _sickSensorModeToString( const uint8_t sick_sensor_mode ) const;
<a name="l00785"></a>00785  <span class="comment"></span>
<a name="l00786"></a>00786 <span class="comment">    /** Converts _sick_motor_mode to a representative string */</span>
<a name="l00787"></a>00787     std::string _sickMotorModeToString( const uint8_t sick_motor_mode ) const;
<a name="l00788"></a>00788 <span class="comment"></span>
<a name="l00789"></a>00789 <span class="comment">    /** Converts the specified trans measurement mode return value to a string */</span>
<a name="l00790"></a>00790     std::string _sickTransMeasureReturnToString( const uint8_t return_value ) const;
<a name="l00791"></a>00791   <span class="comment"></span>
<a name="l00792"></a>00792 <span class="comment">    /** Converts the specified reset level to a representative string */</span>
<a name="l00793"></a>00793     std::string _sickResetLevelToString( const uint16_t reset_level ) const;
<a name="l00794"></a>00794   <span class="comment"></span>
<a name="l00795"></a>00795 <span class="comment">    /** Converts Sick LD sector configuration word to a representative string */</span>
<a name="l00796"></a>00796     std::string _sickSectorFunctionToString( const uint16_t sick_sector_function ) const;
<a name="l00797"></a>00797   <span class="comment"></span>
<a name="l00798"></a>00798 <span class="comment">    /** Converts a given scan profile format to a string for friendlier output */</span>
<a name="l00799"></a>00799     std::string _sickProfileFormatToString( const uint16_t profile_format ) const;
<a name="l00800"></a>00800 <span class="comment"></span>
<a name="l00801"></a>00801 <span class="comment">    /** Prints the initialization footer */</span>
<a name="l00802"></a>00802     <span class="keywordtype">void</span> _printInitFooter( ) const;
<a name="l00803"></a>00803 
<a name="l00804"></a>00804   };
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 } <span class="comment">//namespace SickToolbox</span>
<a name="l00807"></a>00807   
<a name="l00808"></a>00808 <span class="preprocessor">#endif </span><span class="comment">/* SICK_LD_HH */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Mar 20 09:41:42 2008 for sicktoolbox-1.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
